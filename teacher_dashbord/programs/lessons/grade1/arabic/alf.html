<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ØªØ¹Ù„Ù… Ø­Ø±Ù Ø§Ù„Ø£Ù„Ù - Ø´Ø§Ù…Ù„</title>
    <style>
        :root { --primary: #4A90E2; --success: #2ECC71; --bg: #F8FAFC; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background-color: var(--bg); margin: 0; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        
        .screen { display: none; width: 100%; max-width: 500px; text-align: center; padding: 20px; box-sizing: border-box; }
        .active { display: block; animation: fadeIn 0.4s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .home-btn {
            display: inline-block;
            padding: 10px 20px;
            background: var(--primary);
            color: white;
            text-decoration: none;
            border-radius: 50px;
            margin-bottom: 20px;
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(30, 136, 229, 0.3);
        }

        .btn-main { background: var(--primary); color: white; border: none; padding: 15px 25px; font-size: 1.2rem; border-radius: 50px; cursor: pointer; margin: 10px; width: 80%; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .btn-home { background: #95a5a6; width: auto; padding: 8px 15px; font-size: 0.9rem; position: fixed; top: 10px; right: 10px; z-index: 100; border-radius: 10px; }

        .shape-card { background: white; margin: 15px 0; padding: 20px; border-radius: 20px; border-right: 8px solid var(--primary); display: flex; align-items: center; justify-content: space-around; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
        .shape-img { width: 180px; height: 180px; object-fit: contain; }
        .shape-text p { margin: 5px 0 0; font-size: 1.5rem; font-weight: bold; color: var(--primary); }

        .quiz-box { background: white; padding: 25px; border-radius: 25px; box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
        .quiz-img { width: 140px; height: 140px; margin-bottom: 15px; object-fit: contain; }
        .opt-btn { width: 75px; height: 75px; font-size: 1.8rem; border-radius: 15px; border: 3px solid var(--primary); background: white; cursor: pointer; margin: 5px; font-weight: bold; }
        
        .progress-bar { width: 100%; height: 10px; background: #ddd; border-radius: 5px; margin: 40px 0 20px; overflow: hidden; }
        .progress-inner { height: 100%; background: var(--success); width: 0%; transition: 0.3s; }
    </style>
</head>
<body>
    <div class="app-container">
        <a href="../../../../../teacher_dashbord/arabic_dashboard.html" class="home-btn">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>

        <div id="home-screen" class="screen active">
            <h1 style="color: var(--primary); margin-top: 40px;">Ù…Ø±Ø­Ø¨Ø§Ù‹ ÙŠØ§ Ø¨Ø·Ù„ ğŸŒŸ</h1>
            <img src="../../../images/taalm.png" class="shape-img">
            <button class="btn-main" onclick="showScreen('shapes-screen')">ØªØ¹Ù„Ù… Ø£Ø´ÙƒØ§Ù„ Ø§Ù„Ø­Ø±Ù ğŸ“–</button>
            <button class="btn-main" onclick="startQuiz()">Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ† (10) ğŸ“</button>
        </div>

        <div id="shapes-screen" class="screen">
            <button class="btn-main btn-home" onclick="goHome()">ğŸ  Ø§Ù„Ø¹ÙˆØ¯Ø©</button>
            <h2 style="margin-top: 50px;">Ø£ÙŠÙ† ÙŠØ®ØªØ¨Ø¦ Ø­Ø±Ù Ø§Ù„Ø£Ù„ÙØŸ</h2>
            <div class="shape-card">
                <img src="../../../images/rabit.png" class="shape-img">
                <div class="shape-text"><h3>Ø£ÙˆÙ„ Ø§Ù„ÙƒÙ„Ù…Ø©</h3><p><span style="color:red">Ø£</span>Ø±Ù†Ø¨</p></div>
            </div>
            <div class="shape-card">
                <img src="../../../images/lolo.png" class="shape-img">
                <div class="shape-text"><h3>ÙˆØ³Ø· Ø§Ù„ÙƒÙ„Ù…Ø©</h3><p>Ù„Ù€<span style="color:red">Ø¤</span>Ù„Ù€<span style="color:red">Ø¤</span>Ø©</p></div>
            </div>

<div class="shape-card">
            <img src="../../../images/shose.png" class="shape-img">
            <div class="shape-text">
                <h3>Ø¢Ø®Ø± Ø§Ù„ÙƒÙ„Ù…Ø©</h3>
                <p>Ø­Ø°<span style="color:red">Ø§</span>Ø¡</p>
            </div>
        </div>



            <button class="btn-main" onclick="startQuiz()">Ø§Ù†ØªÙ‚Ù„ Ù„Ù„ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„Ø¢Ù†!</button>
        </div>

        <div id="quiz-screen" class="screen">
            <button class="btn-main btn-home" onclick="goHome()">ğŸ  Ø§Ù„Ø¹ÙˆØ¯Ø©</button>
            <div class="progress-bar"><div id="progress" class="progress-inner"></div></div>
            <div class="quiz-box">
                <h4 id="q-num">ØªÙ…Ø±ÙŠÙ† 1 Ù…Ù† 10</h4>
                <img id="q-img" src="" class="quiz-img">
                <h2 id="q-word" style="font-size: 2.2rem; margin: 10px 0;"></h2>
                <div id="options">
                    <button class="opt-btn" onclick="checkAns('Ø£Ù')">Ø£Ù</button>
                    <button class="opt-btn" onclick="checkAns('Ø£Ù')">Ø£Ù</button>
                    <button class="opt-btn" onclick="checkAns('Ø¥Ù')">Ø¥Ù</button>
                </div>
                <p id="feedback" style="font-weight: bold; margin-top: 15px; height: 25px;"></p>
            </div>
        </div>

        <div id="end-screen" class="screen">
            <h1 style="font-size: 4rem;">ğŸ‰</h1>
            <h2>Ø£Ù†Øª Ù…Ø°Ù‡Ù„!</h2>
            <button class="btn-main" onclick="goHome()">Ø§Ù„Ø¹Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰</button>
        </div>
    </div>

    <script>
        const exercises = [
            { img: "../../../images/rabit.png", word: "...Ø±Ù†Ø¨", ans: "Ø£Ù", name: "Ø£Ø±Ù†Ø¨" },
            { img: "../../../images/ear.png", word: "...Ø°Ù†", ans: "Ø£Ù", name: "Ø£Ø°Ù†" },
            { img: "../../../images/kettle.jpg", word: "...Ø¨Ø±ÙŠÙ‚", ans: "Ø¥Ù", name: "Ø¥Ø¨Ø±ÙŠÙ‚" },
            { img: "../../../images/lion.png", word: "...Ø³Ø¯", ans: "Ø£Ù", name: "Ø£Ø³Ø¯" },
            { img: "../../../images/octopus.jpg", word: "...Ø®Ø·Ø¨ÙˆØ·", ans: "Ø£Ù", name: "Ø£Ø®Ø·Ø¨ÙˆØ·" },
            { img: "../../../images/needle.jpg", word: "...Ø¨Ø±Ø©", ans: "Ø¥Ù", name: "Ø¥Ø¨Ø±Ø©" },
            { img: "../../../images/color.jpg", word: "...Ù„ÙˆØ§Ù†", ans: "Ø£Ù", name: "Ø£Ù„ÙˆØ§Ù†" },
            { img: "../../../images/mother.jpg", word: "...Ù…", ans: "Ø£Ù", name: "Ø£Ù…ÙŠ" },
            { img: "../../../images/finger.jpg", word: "...ØµØ¨Ø¹", ans: "Ø¥Ù", name: "Ø¥ØµØ¨Ø¹" },
            { img: "../../../images/pineapple.jpg", word: "...Ù†Ø§Ù†Ø§Ø³", ans: "Ø£Ù", name: "Ø£Ù†Ø§Ù†Ø§Ø³" }
        ];

        let currentQ = 0;
        let isProcessing = false; // Ù„Ù…Ù†Ø¹ Ø§Ù„ØªÙ‡Ù†ÙŠØ¬ Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø§Ù„Ù…ØªÙƒØ±Ø±

        function showScreen(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            window.scrollTo(0,0);
        }

        function goHome() { isProcessing = false; showScreen('home-screen'); }

        function startQuiz() {
            currentQ = 0;
            isProcessing = false;
            updateQuiz();
            showScreen('quiz-screen');
        }

        function updateQuiz() {
            const q = exercises[currentQ];
            document.getElementById('q-num').innerText = `ØªÙ…Ø±ÙŠÙ† ${currentQ + 1} Ù…Ù† 10`;
            document.getElementById('q-img').src = q.img;
            document.getElementById('q-word').innerText = q.word;
            document.getElementById('progress').style.width = (currentQ / exercises.length * 100) + "%";
            document.getElementById('feedback').innerText = "";
            isProcessing = false;
        }

        function checkAns(selected) {
            if (isProcessing) return; // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¹Ø§Ù„Ø¬ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©ØŒ Ù„Ø§ ØªÙØ¹Ù„ Ø´ÙŠØ¦Ø§Ù‹

            const q = exercises[currentQ];
            const feedback = document.getElementById('feedback');
            
            if (selected === q.ans) {
                isProcessing = true; // Ù‚ÙÙ„ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ù…Ø¤Ù‚ØªØ§Ù‹
                feedback.innerText = "Ù…Ù…ØªØ§Ø²! âœ…";
                feedback.style.color = "var(--success)";
                
                // ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª Ø¨Ø·Ø±ÙŠÙ‚Ø© Ù„Ø§ ØªØ¹Ø·Ù„ Ø§Ù„Ù…ØªØµÙØ­
                speakWord(q.name);

                setTimeout(() => {
                    currentQ++;
                    if (currentQ < exercises.length) {
                        updateQuiz();
                    } else {
                        showScreen('end-screen');
                    }
                }, 1000);
            } else {
                feedback.innerText = "Ø­Ø§ÙˆÙ„ Ø«Ø§Ù†ÙŠØ© âŒ";
                feedback.style.color = "red";
                setTimeout(() => { feedback.innerText = ""; }, 800);
            }
        }

        function speakWord(text) {
            // ÙƒÙˆØ¯ ØµÙˆØªÙŠ Ø£ÙƒØ«Ø± Ø§Ø³ØªÙ‚Ø±Ø§Ø±Ø§Ù‹ Ù„Ù…ØªØµÙØ­Ø§Øª Ø§Ù„Ø¬ÙˆØ§Ù„
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                const msg = new SpeechSynthesisUtterance(text);
                msg.lang = 'ar-SA';
                msg.rate = 0.9;
                window.speechSynthesis.speak(msg);
            }
        }

        // ØªÙØ¹ÙŠÙ„ Ø§Ù„ØµÙˆØª Ø¹Ù†Ø¯ Ø£ÙˆÙ„ Ù„Ù…Ø³Ø© (Ø¶Ø±ÙˆØ±ÙŠ Ø¬Ø¯Ø§Ù‹ Ù„Ù…ØªØµÙØ­ Ø§Ù„ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…)
        document.addEventListener('touchstart', function() {
            if ('speechSynthesis' in window) {
                const silent = new SpeechSynthesisUtterance('');
                window.speechSynthesis.speak(silent);
            }
        }, { once: true });
    </script>
</body>
</html>