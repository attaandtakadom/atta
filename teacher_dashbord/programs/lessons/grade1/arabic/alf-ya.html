<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¨Ø±Ù†Ø§Ù…Ø¬ ØªØ¹Ù„Ù… Ø§Ù„Ø­Ø±ÙˆÙ Ø¨Ø§Ù„ØªØ´ÙƒÙŠÙ„ - Ø§Ù„Ù†Ù‚Ø± Ø§Ù„Ù…Ø¨Ø§Ø´Ø±</title>
    <style>
        /* Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ */
        * {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            margin: 0;
            padding: 15px;
            background: linear-gradient(135deg, #f0f7ff 0%, #fff0f5 100%);
            min-height: 100vh;
            color: #2c3e50;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        /* Ø§Ù„Ø¹Ù†ÙˆØ§Ù† */
        .header {
            background: linear-gradient(90deg, #3498db 0%, #9b59b6 100%);
            color: white;
            padding: 25px;
            border-radius: 20px;
            margin-bottom: 25px;
            text-align: center;
            box-shadow: 0 8px 20px rgba(52, 152, 219, 0.25);
        }
        
        .header h1 {
            margin: 0 0 10px 0;
            font-size: 32px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        .header p {
            margin: 0;
            font-size: 20px;
            opacity: 0.95;
        }
        
        /* Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 25px;
            margin-bottom: 30px;
        }
        
        @media (max-width: 992px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* Ù„ÙˆØ­Ø© Ø§Ù„Ø­Ø±ÙˆÙ */
        .letters-panel {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .panel-title {
            color: #2c3e50;
            margin-top: 0;
            margin-bottom: 25px;
            font-size: 24px;
            text-align: center;
            padding-bottom: 15px;
            border-bottom: 3px solid #3498db;
        }
        
        /* ÙÙ„Ø§ØªØ± Ø§Ù„ØªØ´ÙƒÙŠÙ„ */
        .harakat-filters {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            padding: 12px 24px;
            border: 2px solid #3498db;
            background: white;
            color: #3498db;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            font-size: 17px;
            transition: all 0.3s ease;
        }
        
        .filter-btn.active {
            background: #3498db;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 12px rgba(52, 152, 219, 0.3);
        }
        
        .filter-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 12px rgba(0,0,0,0.1);
        }
        
        /* Ø´Ø¨ÙƒØ© Ø§Ù„Ø­Ø±ÙˆÙ */
        .letters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
            gap: 15px;
            max-height: 500px;
            overflow-y: auto;
            padding: 10px;
        }
        
        .letter-card {
            background: linear-gradient(145deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
            padding: 20px 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            user-select: none;
            min-height: 90px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .letter-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.1);
            border-color: #3498db;
            background: linear-gradient(145deg, #e3f2fd, #bbdefb);
        }
        
        .letter-card.selected {
            background: linear-gradient(145deg, #c8e6c9, #a5d6a7);
            border-color: #4caf50;
            transform: scale(1.05);
        }
        
        .letter-main {
            font-size: 36px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }
        
        .letter-haraka {
            font-size: 20px;
            color: #e74c3c;
            font-weight: bold;
            margin-top: 5px;
        }
        
        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ† */
        .exercises-panel {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… */
        .progress-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .score-box {
            background: linear-gradient(135deg, #4caf50, #2e7d32);
            color: white;
            padding: 20px;
            border-radius: 15px;
            min-width: 180px;
            text-align: center;
        }
        
        .score-value {
            font-size: 42px;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .progress-bar {
            flex-grow: 1;
            background: #e0e0e0;
            height: 20px;
            border-radius: 10px;
            margin: 0 25px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3498db, #9b59b6);
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 10px;
        }
        
        /* ØªÙ…Ø±ÙŠÙ† Ø­Ø§Ù„ÙŠ */
        .current-exercise {
            background: #f8f9fa;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            border: 3px solid #e0e0e0;
        }
        
        .exercise-title {
            color: #2c3e50;
            margin-top: 0;
            font-size: 26px;
            text-align: center;
        }
        
        .word-display {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
            font-size: 42px;
            margin: 30px 0;
            min-height: 120px;
        }
        
        .word-part {
            padding: 10px;
        }
        
        .missing-part {
            width: 100px;
            height: 100px;
            border: 4px dashed #ff9800;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #fff8e1;
            font-size: 42px;
            color: #555;
            transition: all 0.3s ease;
        }
        
        .missing-part.filled {
            background: #e8f5e9;
            border: 4px solid #4caf50;
            transform: scale(1.05);
        }
        
        .hint-box {
            background: #e3f2fd;
            border-radius: 15px;
            padding: 20px;
            margin-top: 25px;
            text-align: center;
        }
        
        .hint-text {
            font-size: 20px;
            color: #1565c0;
            margin: 0;
        }
        
        /* Ø²Ø± Ø§Ù„ØªØ£ÙƒÙŠØ¯ */
        .confirm-btn {
            display: block;
            width: 100%;
            padding: 22px;
            background: linear-gradient(90deg, #4caf50, #2e7d32);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 22px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 25px;
            box-shadow: 0 6px 12px rgba(76, 175, 80, 0.3);
        }
        
        .confirm-btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 18px rgba(76, 175, 80, 0.4);
        }
        
        .confirm-btn:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
        .action-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .action-btn {
            padding: 18px;
            border: none;
            border-radius: 15px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .btn-next {
            background: linear-gradient(90deg, #3498db, #2980b9);
            color: white;
        }
        
        .btn-reset {
            background: linear-gradient(90deg, #e74c3c, #c0392b);
            color: white;
        }
        
        .btn-hint {
            background: linear-gradient(90deg, #ff9800, #ef6c00);
            color: white;
        }
        
        .action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.15);
        }
        
        /* Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ */
        .message {
            position: fixed;
            top: 30px;
            right: 50%;
            transform: translateX(50%);
            padding: 20px 40px;
            border-radius: 50px;
            font-weight: bold;
            font-size: 20px;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        
        .message.show {
            opacity: 1;
        }
        
        .message.correct {
            background: linear-gradient(90deg, #4caf50, #2e7d32);
            color: white;
        }
        
        .message.wrong {
            background: linear-gradient(90deg, #e74c3c, #c0392b);
            color: white;
        }
        
        /* Ø®Ø§ØµÙŠØ© Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø­Ø±ÙˆÙ */
        .hide-letters-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background: #9b59b6;
            color: white;
            border: none;
            border-radius: 10px;
            padding: 10px 15px;
            cursor: pointer;
            font-weight: bold;
        }
        
        /* Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© */
        .final-score {
            text-align: center;
            padding: 40px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            margin-top: 30px;
        }
        
        .final-emoji {
            font-size: 80px;
            margin-bottom: 20px;
        }
        
        .final-title {
            color: #2c3e50;
            font-size: 36px;
            margin-bottom: 20px;
        }
        
        .final-points {
            font-size: 48px;
            color: #e74c3c;
            font-weight: bold;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© -->
        <div class="header">
            <h1>ğŸ“ Ø¨Ø±Ù†Ø§Ù…Ø¬ ØªØ¹Ù„Ù… Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø§Ù„ØªØ´ÙƒÙŠÙ„</h1>
            <p>Ù…Ø¤Ø³Ø³Ø© Ø§Ù„ØªÙ‚Ø¯Ù… ÙˆØ§Ù„Ø¹Ø·Ø§Ø¡ Ù„Ø£Ø·ÙØ§Ù„ Ø§Ù„ØªÙˆØ­Ø¯ - Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡ØŒ Ù„ÙŠØ¨ÙŠØ§</p>
        </div>
        
        <!-- Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
        <div class="main-grid">
            <!-- Ù„ÙˆØ­Ø© Ø§Ù„Ø­Ø±ÙˆÙ -->
            <div class="letters-panel">
                <h2 class="panel-title">ğŸ”¤ Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø§Ù„ØªØ´ÙƒÙŠÙ„</h2>
                
                <!-- ÙÙ„Ø§ØªØ± Ø§Ù„ØªØ´ÙƒÙŠÙ„ -->
                <div class="harakat-filters">
                    <button class="filter-btn active" data-haraka="all">Ø§Ù„ÙƒÙ„</button>
                    <button class="filter-btn" data-haraka="fatha">ÙØªØ­Ø© (Ù€Ù)</button>
                    <button class="filter-btn" data-haraka="kasra">ÙƒØ³Ø±Ø© (Ù€Ù)</button>
                    <button class="filter-btn" data-haraka="damma">Ø¶Ù…Ø© (Ù€Ù)</button>
                    <button class="filter-btn" data-haraka="sukun">Ø³ÙƒÙˆÙ† (Ù€Ù’)</button>
                </div>
                
                <!-- Ø´Ø¨ÙƒØ© Ø§Ù„Ø­Ø±ÙˆÙ -->
                <div class="letters-grid" id="lettersGrid">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø­Ø±ÙˆÙ -->
                </div>
                
                <div style="text-align: center; margin-top: 20px; color: #666;">
                    <p>Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø£ÙŠ Ø­Ø±Ù Ù„ØªØ­Ø¯ÙŠØ¯Ù‡ØŒ Ø«Ù… Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙƒØ§Ù† Ø§Ù„ÙØ§Ø±Øº ÙÙŠ Ø§Ù„ÙƒÙ„Ù…Ø©</p>
                </div>
            </div>
            
            <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ† -->
            <div class="exercises-panel">
                <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… -->
                <div class="progress-container">
                    <div class="score-box">
                        <div>Ø§Ù„Ù†Ù‚Ø§Ø·</div>
                        <div class="score-value" id="scoreValue">0</div>
                    </div>
                    
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    
                    <div style="text-align: center; min-width: 120px;">
                        <div style="font-size: 18px; color: #666;">Ø§Ù„ØªÙ‚Ø¯Ù…</div>
                        <div style="font-size: 28px; font-weight: bold; color: #2c3e50;" id="progressText">1/30</div>
                    </div>
                </div>
                
                <!-- ØªÙ…Ø±ÙŠÙ† Ø­Ø§Ù„ÙŠ -->
                <div id="exerciseContainer">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ† -->
                </div>
                
                <!-- Ø²Ø± Ø§Ù„ØªØ£ÙƒÙŠØ¯ -->
                <button class="confirm-btn" id="confirmBtn" disabled>
                    âœ“ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
                </button>
                
                <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… -->
                <div class="action-buttons">
                    <button class="action-btn btn-hint" id="hintBtn">
                        ğŸ’¡ Ø¹Ø±Ø¶ ØªÙ„Ù…ÙŠØ­
                    </button>
                    <button class="action-btn btn-reset" id="resetBtn">
                        ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ†
                    </button>
                    <button class="action-btn btn-next" id="nextBtn">
                        Ø§Ù„ØªØ§Ù„ÙŠ â†’
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ -->
    <div class="message" id="correctMessage">ğŸ‰ Ø£Ø­Ø³Ù†Øª! Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©</div>
    <div class="message" id="wrongMessage">âŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰</div>

    <script>
        // ============= Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙƒØ§Ù…Ù„Ø© =============
        // Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ù…Ø¹ Ø§Ù„ØªØ´ÙƒÙŠÙ„Ø§Øª Ø§Ù„Ø«Ù„Ø§Ø«
        const allArabicLetters = [
            { letter: "Ø£", harakat: ["fatha", "damma"], name: "Ø£Ù„Ù" },
            { letter: "Ø¥", harakat: ["kasra"], name: "Ø£Ù„Ù Ù…ÙƒØ³ÙˆØ±Ø©" },
            { letter: "Ø¢", harakat: ["fatha", "madda"], name: "Ø£Ù„Ù Ù…Ø¯" },
            { letter: "Ø¨", harakat: ["fatha", "kasra", "damma", "sukun"], name: "Ø¨Ø§Ø¡" },
            { letter: "Øª", harakat: ["fatha", "kasra", "damma", "sukun"], name: "ØªØ§Ø¡" },
            { letter: "Ø«", harakat: ["fatha", "kasra", "damma", "sukun"], name: "Ø«Ø§Ø¡" },
            { letter: "Ø¬", harakat: ["fatha", "kasra", "damma", "sukun"], name: "Ø¬ÙŠÙ…" },
            { letter: "Ø­", harakat: ["fatha", "kasra", "damma", "sukun"], name: "Ø­Ø§Ø¡" },
            { letter: "Ø®", harakat: ["fatha", "kasra", "damma", "sukun"], name: "Ø®Ø§Ø¡" },
            { letter: "Ø¯", harakat: ["fatha", "kasra", "damma", "sukun"], name: "Ø¯Ø§Ù„" },
            { letter: "Ø°", harakat: ["fatha", "kasra", "damma", "sukun"], name: "Ø°Ø§Ù„" },
            { letter: "Ø±", harakat: ["fatha", "kasra", "damma", "sukun"], name: "Ø±Ø§Ø¡" },
            { letter: "Ø²", harakat: ["fatha", "kasra", "damma", "sukun"], name: "Ø²Ø§ÙŠ" },
            { letter: "Ø³", harakat: ["fatha", "kasra", "damma", "sukun"], name: "Ø³ÙŠÙ†" },
            { letter: "Ø´", harakat: ["fatha", "kasra", "damma", "sukun"], name: "Ø´ÙŠÙ†" },
            { letter: "Øµ", harakat: ["fatha", "kasra", "damma", "sukun"], name: "ØµØ§Ø¯" },
            { letter: "Ø¶", harakat: ["fatha", "kasra", "damma", "sukun"], name: "Ø¶Ø§Ø¯" },
            { letter: "Ø·", harakat: ["fatha", "kasra", "damma", "sukun"], name: "Ø·Ø§Ø¡" },
            { letter: "Ø¸", harakat: ["fatha", "kasra", "damma", "sukun"], name: "Ø¸Ø§Ø¡" },
            { letter: "Ø¹", harakat: ["fatha", "kasra", "damma", "sukun"], name: "Ø¹ÙŠÙ†" },
            { letter: "Øº", harakat: ["fatha", "kasra", "damma", "sukun"], name: "ØºÙŠÙ†" },
            { letter: "Ù", harakat: ["fatha", "kasra", "damma", "sukun"], name: "ÙØ§Ø¡" },
            { letter: "Ù‚", harakat: ["fatha", "kasra", "damma", "sukun"], name: "Ù‚Ø§Ù" },
            { letter: "Ùƒ", harakat: ["fatha", "kasra", "damma", "sukun"], name: "ÙƒØ§Ù" },
            { letter: "Ù„", harakat: ["fatha", "kasra", "damma", "sukun"], name: "Ù„Ø§Ù…" },
            { letter: "Ù…", harakat: ["fatha", "kasra", "damma", "sukun"], name: "Ù…ÙŠÙ…" },
            { letter: "Ù†", harakat: ["fatha", "kasra", "damma", "sukun"], name: "Ù†ÙˆÙ†" },
            { letter: "Ù‡", harakat: ["fatha", "kasra", "damma", "sukun"], name: "Ù‡Ø§Ø¡" },
            { letter: "Ùˆ", harakat: ["fatha", "kasra", "damma", "sukun"], name: "ÙˆØ§Ùˆ" },
            { letter: "ÙŠ", harakat: ["fatha", "kasra", "damma", "sukun"], name: "ÙŠØ§Ø¡" }
        ];
        
        // 30 ØªÙ…Ø±ÙŠÙ† Ù…ØªÙ†ÙˆØ¹
        const exercises = [
            // 10 ØªÙ…Ø§Ø±ÙŠÙ† Ø¨ÙØªØ­Ø©
            { id: 1, word: "Ø£Ø³Ø¯", parts: ["", "Ø³Ø¯"], missingIndex: 0, letter: "Ø£", haraka: "fatha", hint: "ÙƒÙ„Ù…Ø© ØªØ¨Ø¯Ø£ Ø¨Ø£Ù„Ù Ù…Ø¹ ÙØªØ­Ø©" },
            { id: 2, word: "ÙØ£Ø³", parts: ["Ù", "", "Ø³"], missingIndex: 1, letter: "Ø£", haraka: "fatha", hint: "Ø£Ø¯Ø§Ø© Ù‚Ø·Ø¹ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø£Ù„Ù Ù…ÙØªÙˆØ­Ø©" },
            { id: 3, word: "Ø¨ÙØ§Ø¨", parts: ["", "Ø§Ø¨"], missingIndex: 0, letter: "Ø¨", haraka: "fatha", hint: "Ù…Ø¯Ø®Ù„ Ø§Ù„Ù…Ù†Ø²Ù„ ÙŠØ¨Ø¯Ø£ Ø¨Ø¨Ø§Ø¡ Ù…ÙØªÙˆØ­Ø©" },
            { id: 4, word: "ØªÙÙŠÙ†", parts: ["", "ÙŠÙ†"], missingIndex: 0, letter: "Øª", haraka: "fatha", hint: "ÙØ§ÙƒÙ‡Ø© ØªØ¨Ø¯Ø£ Ø¨ØªØ§Ø¡ Ù…ÙØªÙˆØ­Ø©" },
            { id: 5, word: "Ø¬ÙØ¨Ù„", parts: ["", "Ø¨Ù„"], missingIndex: 0, letter: "Ø¬", haraka: "fatha", hint: "Ù…Ø±ØªÙØ¹ Ø£Ø±Ø¶ÙŠ ÙŠØ¨Ø¯Ø£ Ø¨Ø¬ÙŠÙ… Ù…ÙØªÙˆØ­Ø©" },
            { id: 6, word: "Ø¯ÙØ±Ù’Ø³", parts: ["", "Ø±Ø³"], missingIndex: 0, letter: "Ø¯", haraka: "fatha", hint: "Ù…Ø§ ÙŠØªØ¹Ù„Ù…Ù‡ Ø§Ù„Ø·Ø§Ù„Ø¨ ÙŠØ¨Ø¯Ø£ Ø¨Ø¯Ø§Ù„ Ù…ÙØªÙˆØ­Ø©" },
            { id: 7, word: "Ø±ÙØ³Ù’Ù…", parts: ["", "Ø³Ù…"], missingIndex: 0, letter: "Ø±", haraka: "fatha", hint: "Ø±Ø³Ù… ÙŠØ¨Ø¯Ø£ Ø¨Ø±Ø§Ø¡ Ù…ÙØªÙˆØ­Ø©" },
            { id: 8, word: "Ø³ÙÙ…ÙÙƒ", parts: ["", "Ù…Ùƒ"], missingIndex: 0, letter: "Ø³", haraka: "fatha", hint: "Ø­ÙŠÙˆØ§Ù† Ù…Ø§Ø¦ÙŠ ÙŠØ¨Ø¯Ø£ Ø¨Ø³ÙŠÙ† Ù…ÙØªÙˆØ­Ø©" },
            { id: 9, word: "ØµÙØ¨Ø§Ø­", parts: ["", "Ø¨Ø§Ø­"], missingIndex: 0, letter: "Øµ", haraka: "fatha", hint: "ÙˆÙ‚Øª Ø§Ù„ØµØ¨Ø§Ø­ ÙŠØ¨Ø¯Ø£ Ø¨ØµØ§Ø¯ Ù…ÙØªÙˆØ­Ø©" },
            { id: 10, word: "Ø¶ÙÙÙ’Ø¯Ø¹", parts: ["", "ÙØ¯Ø¹"], missingIndex: 0, letter: "Ø¶", haraka: "fatha", hint: "Ø­ÙŠÙˆØ§Ù† Ø¨Ø±Ù…Ø§Ø¦ÙŠ ÙŠØ¨Ø¯Ø£ Ø¨Ø¶Ø§Ø¯ Ù…ÙØªÙˆØ­Ø©" },
            
            // 10 ØªÙ…Ø§Ø±ÙŠÙ† Ø¨ÙƒØ³Ø±Ø©
            { id: 11, word: "Ø¥Ø¨Ø±Ø©", parts: ["", "Ø¨Ø±Ø©"], missingIndex: 0, letter: "Ø¥", haraka: "kasra", hint: "Ø£Ø¯Ø§Ø© Ø®ÙŠØ§Ø·Ø© ØªØ¨Ø¯Ø£ Ø¨Ù‡Ù…Ø²Ø© Ù…ÙƒØ³ÙˆØ±Ø©" },
            { id: 12, word: "Ø¨ÙÙ†Øª", parts: ["", "Ù†Øª"], missingIndex: 0, letter: "Ø¨", haraka: "kasra", hint: "Ø·ÙÙ„Ø© ØªØ¨Ø¯Ø£ Ø¨Ø¨Ø§Ø¡ Ù…ÙƒØ³ÙˆØ±Ø©" },
            { id: 13, word: "ØªÙÙ„Ù…ÙŠØ°", parts: ["", "Ù„Ù…ÙŠØ°"], missingIndex: 0, letter: "Øª", haraka: "kasra", hint: "Ø·Ø§Ù„Ø¨ ÙŠØ¨Ø¯Ø£ Ø¨ØªØ§Ø¡ Ù…ÙƒØ³ÙˆØ±Ø©" },
            { id: 14, word: "Ø¬ÙØ¯Ø§Ø±", parts: ["", "Ø¯Ø§Ø±"], missingIndex: 0, letter: "Ø¬", haraka: "kasra", hint: "Ø­Ø§Ø¦Ø· ÙŠØ¨Ø¯Ø£ Ø¨Ø¬ÙŠÙ… Ù…ÙƒØ³ÙˆØ±Ø©" },
            { id: 15, word: "Ø­ÙØ°Ø§Ø¡", parts: ["", "Ø°Ø§Ø¡"], missingIndex: 0, letter: "Ø­", haraka: "kasra", hint: "Ù…Ø§ Ù†Ø±ØªØ¯ÙŠÙ‡ ÙÙŠ Ø§Ù„Ù‚Ø¯Ù… ÙŠØ¨Ø¯Ø£ Ø¨Ø­Ø§Ø¡ Ù…ÙƒØ³ÙˆØ±Ø©" },
            { id: 16, word: "Ø®ÙÙŠÙ…Ø©", parts: ["", "ÙŠÙ…Ø©"], missingIndex: 0, letter: "Ø®", haraka: "fatha", hint: "Ù…Ø³ÙƒÙ† Ø¨Ø¯ÙˆÙŠ ÙŠØ¨Ø¯Ø£ Ø¨Ø®Ø§Ø¡ Ù…ÙØªÙˆØ­Ø©" },
            { id: 17, word: "Ø¯ÙÙŠÙƒ", parts: ["", "ÙŠÙƒ"], missingIndex: 0, letter: "Ø¯", haraka: "kasra", hint: "Ø·Ø§Ø¦Ø± ÙŠØ¨Ø¯Ø£ Ø¨Ø¯Ø§Ù„ Ù…ÙƒØ³ÙˆØ±Ø©" },
            { id: 18, word: "Ø°ÙØ¦Ø¨", parts: ["", "Ø¦Ø¨"], missingIndex: 0, letter: "Ø°", haraka: "kasra", hint: "Ø­ÙŠÙˆØ§Ù† Ù…ÙØªØ±Ø³ ÙŠØ¨Ø¯Ø£ Ø¨Ø°Ø§Ù„ Ù…ÙƒØ³ÙˆØ±Ø©" },
            { id: 19, word: "Ø±ÙØ­Ù„Ø©", parts: ["", "Ø­Ù„Ø©"], missingIndex: 0, letter: "Ø±", haraka: "kasra", hint: "Ø³ÙØ± ÙŠØ¨Ø¯Ø£ Ø¨Ø±Ø§Ø¡ Ù…ÙƒØ³ÙˆØ±Ø©" },
            { id: 20, word: "Ø²ÙØ¬Ø§Ø¬", parts: ["", "Ø¬Ø§Ø¬"], missingIndex: 0, letter: "Ø²", haraka: "damma", hint: "Ù…Ø§Ø¯Ø© Ø´ÙØ§ÙØ© ØªØ¨Ø¯Ø£ Ø¨Ø²Ø§ÙŠ Ù…Ø¶Ù…ÙˆÙ…Ø©" },
            
            // 10 ØªÙ…Ø§Ø±ÙŠÙ† Ø¨Ø¶Ù…Ø©
            { id: 21, word: "Ø£ÙØ°Ù†", parts: ["", "Ø°Ù†"], missingIndex: 0, letter: "Ø£", haraka: "damma", hint: "Ø¹Ø¶Ùˆ Ø§Ù„Ø³Ù…Ø¹ ÙŠØ¨Ø¯Ø£ Ø¨Ø£Ù„Ù Ù…Ø¶Ù…ÙˆÙ…Ø©" },
            { id: 22, word: "Ø¨ÙØ³ØªØ§Ù†", parts: ["", "Ø³ØªØ§Ù†"], missingIndex: 0, letter: "Ø¨", haraka: "damma", hint: "Ø­Ø¯ÙŠÙ‚Ø© Ø£Ø´Ø¬Ø§Ø± ØªØ¨Ø¯Ø£ Ø¨Ø¨Ø§Ø¡ Ù…Ø¶Ù…ÙˆÙ…Ø©" },
            { id: 23, word: "ØªÙÙØ§Ø­", parts: ["", "ÙØ§Ø­"], missingIndex: 0, letter: "Øª", haraka: "damma", hint: "ÙØ§ÙƒÙ‡Ø© Ø­Ù…Ø±Ø§Ø¡ ØªØ¨Ø¯Ø£ Ø¨ØªØ§Ø¡ Ù…Ø¶Ù…ÙˆÙ…Ø©" },
            { id: 24, word: "Ø¬ÙØ­Ø±", parts: ["", "Ø­Ø±"], missingIndex: 0, letter: "Ø¬", haraka: "damma", hint: "Ù…Ø³ÙƒÙ† Ø§Ù„Ø­ÙŠÙˆØ§Ù† ÙŠØ¨Ø¯Ø£ Ø¨Ø¬ÙŠÙ… Ù…Ø¶Ù…ÙˆÙ…Ø©" },
            { id: 25, word: "Ø­ÙÙ„Ù…", parts: ["", "Ù„Ù…"], missingIndex: 0, letter: "Ø­", haraka: "damma", hint: "Ù…Ø§ Ù†Ø±Ø§Ù‡ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ù†ÙˆÙ… ÙŠØ¨Ø¯Ø£ Ø¨Ø­Ø§Ø¡ Ù…Ø¶Ù…ÙˆÙ…Ø©" },
            { id: 26, word: "Ø®ÙØ¨Ø²", parts: ["", "Ø¨Ø²"], missingIndex: 0, letter: "Ø®", haraka: "damma", hint: "Ø·Ø¹Ø§Ù… Ø£Ø³Ø§Ø³ÙŠ ÙŠØ¨Ø¯Ø£ Ø¨Ø®Ø§Ø¡ Ù…Ø¶Ù…ÙˆÙ…Ø©" },
            { id: 27, word: "Ø¯ÙØ¨", parts: ["", "Ø¨"], missingIndex: 0, letter: "Ø¯", haraka: "damma", hint: "Ø­ÙŠÙˆØ§Ù† ÙƒØ¨ÙŠØ± ÙŠØ¨Ø¯Ø£ Ø¨Ø¯Ø§Ù„ Ù…Ø¶Ù…ÙˆÙ…Ø©" },
            { id: 28, word: "Ø±ÙÙƒÙ†", parts: ["", "ÙƒÙ†"], missingIndex: 0, letter: "Ø±", haraka: "damma", hint: "Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ù…ÙƒØ§Ù† ØªØ¨Ø¯Ø£ Ø¨Ø±Ø§Ø¡ Ù…Ø¶Ù…ÙˆÙ…Ø©" },
            { id: 29, word: "Ø²ÙÙ‡ÙˆØ±", parts: ["", "Ù‡ÙˆØ±"], missingIndex: 0, letter: "Ø²", haraka: "damma", hint: "Ù†Ø¨Ø§ØªØ§Øª Ø¬Ù…ÙŠÙ„Ø© ØªØ¨Ø¯Ø£ Ø¨Ø²Ø§ÙŠ Ù…Ø¶Ù…ÙˆÙ…Ø©" },
            { id: 30, word: "Ø³ÙÙˆØ±", parts: ["", "ÙˆØ±"], missingIndex: 0, letter: "Ø³", haraka: "damma", hint: "Ø¬Ø¯Ø§Ø± Ø¹Ø§Ù„Ù ÙŠØ¨Ø¯Ø£ Ø¨Ø³ÙŠÙ† Ù…Ø¶Ù…ÙˆÙ…Ø©" }
        ];
        
        // Ø­Ø§Ù„Ø© Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬
        let currentExerciseIndex = 0;
        let score = 0;
        let selectedLetter = null;
        let currentExercise = exercises[0];
        let currentHarakaFilter = "all";
        
        // ============= ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ =============
        document.addEventListener('DOMContentLoaded', function() {
            initLettersGrid();
            loadExercise(currentExerciseIndex);
            setupEventListeners();
            updateProgress();
        });
        
        // ============= Ø¥Ù†Ø´Ø§Ø¡ Ø´Ø¨ÙƒØ© Ø§Ù„Ø­Ø±ÙˆÙ =============
        function initLettersGrid() {
            const lettersGrid = document.getElementById('lettersGrid');
            lettersGrid.innerHTML = '';
            
            allArabicLetters.forEach(letterData => {
                // Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø±Ù Ù…Ø¹ Ø¬Ù…ÙŠØ¹ ØªØ´ÙƒÙŠÙ„Ø§ØªÙ‡
                ['fatha', 'kasra', 'damma', 'sukun'].forEach(haraka => {
                    if (letterData.harakat.includes(haraka)) {
                        const letterCard = document.createElement('div');
                        letterCard.className = 'letter-card';
                        letterCard.dataset.letter = letterData.letter;
                        letterCard.dataset.haraka = haraka;
                        letterCard.dataset.name = letterData.name;
                        
                        const harakaSymbol = getHarakaSymbol(haraka);
                        const harakaText = getHarakaText(haraka);
                        
                        letterCard.innerHTML = `
                            <div class="letter-main">${letterData.letter}</div>
                            <div class="letter-haraka">${harakaSymbol}</div>
                            <div style="font-size: 12px; color: #666; margin-top: 5px;">${harakaText}</div>
                        `;
                        
                        letterCard.addEventListener('click', () => selectLetter(letterData.letter, haraka, letterCard));
                        lettersGrid.appendChild(letterCard);
                    }
                });
            });
            
            // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙÙ„ØªØ± Ø§Ù„Ø­Ø§Ù„ÙŠ
            filterLetters(currentHarakaFilter);
        }
        
        // ============= Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø­Ø±Ù =============
        function selectLetter(letter, haraka, element) {
            // Ø¥Ù„ØºØ§Ø¡ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø­Ø±Ù Ø§Ù„Ø³Ø§Ø¨Ù‚
            document.querySelectorAll('.letter-card.selected').forEach(card => {
                card.classList.remove('selected');
            });
            
            // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø­Ø±Ù Ø§Ù„Ø¬Ø¯ÙŠØ¯
            selectedLetter = { letter, haraka };
            element.classList.add('selected');
            
            // ØªÙØ¹ÙŠÙ„ Ø²Ø± Ø§Ù„ØªØ£ÙƒÙŠØ¯
            document.getElementById('confirmBtn').disabled = false;
            
            // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø©
            const harakaText = getHarakaText(haraka);
            showMessage(`ØªÙ… Ø§Ø®ØªÙŠØ§Ø±: ${letter} ${harakaText}`, "correct", 1500);
        }
        
        // ============= ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙ…Ø±ÙŠÙ† =============
        function loadExercise(index) {
            if (index < 0 || index >= exercises.length) return;
            
            currentExerciseIndex = index;
            currentExercise = exercises[index];
            selectedLetter = null;
            
            // Ø¥Ù„ØºØ§Ø¡ ØªØ­Ø¯ÙŠØ¯ Ø£ÙŠ Ø­Ø±Ù
            document.querySelectorAll('.letter-card.selected').forEach(card => {
                card.classList.remove('selected');
            });
            
            // ØªØ¹Ø·ÙŠÙ„ Ø²Ø± Ø§Ù„ØªØ£ÙƒÙŠØ¯
            document.getElementById('confirmBtn').disabled = true;
            
            // Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„ØªÙ…Ø±ÙŠÙ†
            const exerciseContainer = document.getElementById('exerciseContainer');
            
            exerciseContainer.innerHTML = `
                <div class="current-exercise">
                    <h2 class="exercise-title">
                        ØªÙ…Ø±ÙŠÙ† ${currentExercise.id}: ${getHarakaText(currentExercise.haraka)}
                    </h2>
                    
                    <div class="word-display" id="wordDisplay">
                        ${generateWordDisplay()}
                    </div>
                    
                    <div class="hint-box">
                        <p class="hint-text" id="hintText">
                            ${currentExercise.hint}
                        </p>
                    </div>
                </div>
            `;
            
            // Ø¥Ø¶Ø§ÙØ© Ø­Ø¯Ø« Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„ÙØ§Ø±Øº
            const missingPart = document.querySelector('.missing-part');
            if (missingPart) {
                missingPart.addEventListener('click', () => {
                    if (selectedLetter) {
                        fillMissingPart(selectedLetter.letter);
                    } else {
                        showMessage("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø­Ø±Ù Ø£ÙˆÙ„Ø§Ù‹", "wrong");
                    }
                });
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ‚Ø¯Ù…
            updateProgress();
        }
        
        // ============= ØªÙˆÙ„ÙŠØ¯ Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„Ù…Ø© =============
        function generateWordDisplay() {
            let html = '';
            
            currentExercise.parts.forEach((part, index) => {
                if (index === currentExercise.missingIndex) {
                    // Ù…ÙƒØ§Ù† Ø§Ù„Ø­Ø±Ù Ø§Ù„Ù†Ø§Ù‚Øµ
                    html += `
                        <div class="missing-part" id="missingPart">
                            <span style="color: #999;">?</span>
                        </div>
                    `;
                } else {
                    // Ø£Ø¬Ø²Ø§Ø¡ Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø¹Ø§Ø¯ÙŠØ©
                    html += `<div class="word-part">${part}</div>`;
                }
            });
            
            return html;
        }
        
        // ============= Ù…Ù„Ø¡ Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ù†Ø§Ù‚Øµ =============
        function fillMissingPart(letter) {
            const missingPart = document.getElementById('missingPart');
            if (!missingPart) return;
            
            missingPart.innerHTML = `
                <span style="font-size: 48px; font-weight: bold; color: #2c3e50;">
                    ${letter}
                </span>
            `;
            missingPart.classList.add('filled');
            
            // ØªÙØ¹ÙŠÙ„ Ø²Ø± Ø§Ù„ØªØ£ÙƒÙŠØ¯
            document.getElementById('confirmBtn').disabled = false;
        }
        
        // ============= Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© =============
        function checkAnswer() {
            if (!selectedLetter) {
                showMessage("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø­Ø±Ù Ø£ÙˆÙ„Ø§Ù‹", "wrong");
                return;
            }
            
            const isCorrect = selectedLetter.letter === currentExercise.letter && 
                             selectedLetter.haraka === currentExercise.haraka;
            
            if (isCorrect) {
                // Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©
                score += 10;
                showMessage(`ğŸ‰ Ø£Ø­Ø³Ù†Øª! ${currentExercise.word}`, "correct");
                playSound("correct");
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØªÙŠØ¬Ø©
                updateProgress();
                
                // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„ØªÙ…Ø±ÙŠÙ† Ø§Ù„ØªØ§Ù„ÙŠ Ø¨Ø¹Ø¯ 2 Ø«Ø§Ù†ÙŠØ©
                setTimeout(() => {
                    if (currentExerciseIndex < exercises.length - 1) {
                        nextExercise();
                    } else {
                        showFinalResults();
                    }
                }, 2000);
            } else {
                // Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©
                showMessage(`ØºÙŠØ± ØµØ­ÙŠØ­. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰!`, "wrong");
                playSound("wrong");
                
                // Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø±Ù Ø§Ù„ØµØ­ÙŠØ­ Ø¨Ø¹Ø¯ 1.5 Ø«Ø§Ù†ÙŠØ©
                setTimeout(() => {
                    const correctHaraka = getHarakaText(currentExercise.haraka);
                    showMessage(`Ø§Ù„Ø¬ÙˆØ§Ø¨ Ø§Ù„ØµØ­ÙŠØ­ Ù‡Ùˆ: ${currentExercise.letter} ${correctHaraka}`, "correct", 2000);
                }, 1500);
            }
        }
        
        // ============= ØªÙ…Ø±ÙŠÙ† ØªØ§Ù„ÙŠ =============
        function nextExercise() {
            if (currentExerciseIndex < exercises.length - 1) {
                currentExerciseIndex++;
                loadExercise(currentExerciseIndex);
            } else {
                showFinalResults();
            }
        }
        
        // ============= ØªØµÙÙŠØ© Ø§Ù„Ø­Ø±ÙˆÙ Ø­Ø³Ø¨ Ø§Ù„ØªØ´ÙƒÙŠÙ„ =============
        function filterLetters(haraka) {
            currentHarakaFilter = haraka;
            
            document.querySelectorAll('.letter-card').forEach(card => {
                if (haraka === 'all' || card.dataset.haraka === haraka) {
                    card.style.display = 'flex';
                } else {
                    card.style.display = 'none';
                }
            });
            
            // ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„ÙÙ„ØªØ± Ø§Ù„Ù†Ø´Ø·Ø©
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.haraka === haraka) {
                    btn.classList.add('active');
                }
            });
        }
        
        // ============= ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… =============
        function updateProgress() {
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ù‚Ø§Ø·
            document.getElementById('scoreValue').textContent = score;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø³Ø¨Ø©
            const progressPercent = ((currentExerciseIndex + 1) / exercises.length) * 100;
            document.getElementById('progressFill').style.width = `${progressPercent}%`;
            document.getElementById('progressText').textContent = 
                `${currentExerciseIndex + 1}/${exercises.length}`;
        }
        
        // ============= Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© =============
        function showFinalResults() {
            const exerciseContainer = document.getElementById('exerciseContainer');
            
            let message = "";
            let emoji = "ğŸ“";
            
            if (score >= 280) {
                message = "Ù…ØªÙÙˆÙ‚! Ø¥Ø¨Ø¯Ø§Ø¹ Ø±Ø§Ø¦Ø¹";
                emoji = "ğŸ†";
            } else if (score >= 200) {
                message = "Ù…Ù…ØªØ§Ø²! Ø£Ø¯Ø§Ø¡ Ø±Ø§Ø¦Ø¹";
                emoji = "â­";
            } else if (score >= 150) {
                message = "Ø¬ÙŠØ¯ Ø¬Ø¯Ø§Ù‹! ÙˆØ§ØµÙ„ Ø§Ù„ØªÙ‚Ø¯Ù…";
                emoji = "ğŸ‘";
            } else {
                message = "Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ø³ØªØªØ­Ø³Ù†";
                emoji = "ğŸ’ª";
            }
            
            exerciseContainer.innerHTML = `
                <div class="final-score">
                    <div class="final-emoji">${emoji}</div>
                    <h2 class="final-title">${message}</h2>
                    <p style="font-size: 24px; color: #666;">Ù„Ù‚Ø¯ Ø£ÙƒÙ…Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ†</p>
                    <div class="final-points">${score} Ù†Ù‚Ø·Ø©</div>
                    <p style="font-size: 20px; color: #666; margin: 20px 0;">
                        Ù„Ù‚Ø¯ ØªØ¹Ù„Ù…Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø§Ù„ØªØ´ÙƒÙŠÙ„Ø§Øª Ø§Ù„Ø«Ù„Ø§Ø«Ø©
                    </p>
                    <button class="action-btn btn-reset" id="restartBtn" 
                            style="padding: 20px 40px; font-size: 22px; margin-top: 30px;">
                        ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù…Ù† Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
                    </button>
                </div>
            `;
            
            document.getElementById('restartBtn').addEventListener('click', restartProgram);
        }
        
        // ============= Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ =============
        function restartProgram() {
            score = 0;
            currentExerciseIndex = 0;
            selectedLetter = null;
            loadExercise(currentExerciseIndex);
            updateProgress();
            showMessage("ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬", "correct");
        }
        
        // ============= Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« =============
        function setupEventListeners() {
            // Ø²Ø± Ø§Ù„ØªØ£ÙƒÙŠØ¯
            document.getElementById('confirmBtn').addEventListener('click', checkAnswer);
            
            // Ø²Ø± Ø§Ù„ØªØ§Ù„ÙŠ
            document.getElementById('nextBtn').addEventListener('click', nextExercise);
            
            // Ø²Ø± Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ†
            document.getElementById('resetBtn').addEventListener('click', restartProgram);
            
            // Ø²Ø± Ø§Ù„ØªÙ„Ù…ÙŠØ­
            document.getElementById('hintBtn').addEventListener('click', () => {
                showMessage(currentExercise.hint, "correct", 3000);
            });
            
            // Ø£Ø²Ø±Ø§Ø± ÙÙ„Ø§ØªØ± Ø§Ù„ØªØ´ÙƒÙŠÙ„
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    filterLetters(btn.dataset.haraka);
                });
            });
            
            // Ø§Ø®ØªØµØ§Ø± Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­: Ù…Ø³Ø§ÙØ© Ù„Ù„ØªØ£ÙƒÙŠØ¯
            document.addEventListener('keydown', (e) => {
                if (e.code === 'Space' && !document.getElementById('confirmBtn').disabled) {
                    e.preventDefault();
                    checkAnswer();
                }
                if (e.code === 'ArrowRight') {
                    nextExercise();
                }
                if (e.code === 'KeyR' && e.ctrlKey) {
                    restartProgram();
                }
            });
        }
        
        // ============= Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø© =============
        function getHarakaSymbol(haraka) {
            switch(haraka) {
                case 'fatha': return 'Ù€Ù';
                case 'kasra': return 'Ù€Ù';
                case 'damma': return 'Ù€Ù';
                case 'sukun': return 'Ù€Ù’';
                default: return '';
            }
        }
        
        function getHarakaText(haraka) {
            switch(haraka) {
                case 'fatha': return 'ÙØªØ­Ø©';
                case 'kasra': return 'ÙƒØ³Ø±Ø©';
                case 'damma': return 'Ø¶Ù…Ø©';
                case 'sukun': return 'Ø³ÙƒÙˆÙ†';
                default: return '';
            }
        }
        
        function showMessage(text, type, duration = 3000) {
            const messageElement = type === "correct" 
                ? document.getElementById('correctMessage') 
                : document.getElementById('wrongMessage');
            
            messageElement.textContent = text;
            messageElement.classList.add('show');
            
            setTimeout(() => {
                messageElement.classList.remove('show');
            }, duration);
        }
        
        function playSound(type) {
            // Ù…Ø­Ø§ÙƒØ§Ø© Ù„Ù„Ø£ØµÙˆØ§Øª (ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ù„ÙØ§Øª ØµÙˆØªÙŠØ©)
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                if (type === "correct") {
                    oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime);
                    oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime + 0.1);
                    oscillator.frequency.setValueAtTime(783.99, audioContext.currentTime + 0.2);
                    gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                } else {
                    oscillator.frequency.setValueAtTime(220, audioContext.currentTime);
                    oscillator.frequency.setValueAtTime(196, audioContext.currentTime + 0.1);
                    gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                }
                
                oscillator.start();
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
                oscillator.stop(audioContext.currentTime + 0.5);
            } catch (e) {
                console.log("Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ø·Ø¨ÙŠØ¹ÙŠ");
            }
        }
        
        // ============= ØªÙ‡ÙŠØ¦Ø© Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø­Ù…ÙˆÙ„Ø© =============
        function initMobileFeatures() {
            // Ù…Ù†Ø¹ Ø§Ù„ØªÙƒØ¨ÙŠØ± Ø¨Ø§Ù„Ø¶ØºØ· Ø§Ù„Ù…Ø²Ø¯ÙˆØ¬
            let lastTouchEnd = 0;
            document.addEventListener('touchend', function(event) {
                const now = (new Date()).getTime();
                if (now - lastTouchEnd <= 300) {
                    event.preventDefault();
                }
                lastTouchEnd = now;
            }, false);
            
            // ØªØ­Ø³ÙŠÙ† Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø±ÙˆÙ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø©
            if (window.innerWidth < 768) {
                document.querySelectorAll('.letter-card').forEach(card => {
                    card.style.minHeight = '70px';
                });
                
                document.querySelectorAll('.letter-main').forEach(el => {
                    el.style.fontSize = '28px';
                });
            }
        }
        
        // ØªØ´ØºÙŠÙ„ Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù‡Ø§ØªÙ
        setTimeout(initMobileFeatures, 1000);
    </script>
</body>
</html>