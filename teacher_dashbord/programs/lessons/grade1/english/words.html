<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¨Ø±Ù†Ø§Ù…Ø¬ ØªØ¹Ù„Ù… ÙˆØªÙˆØ³ÙŠØ¹ Ø§Ù„Ù…ÙØ±Ø¯Ø§Øª Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ø§Ù„ÙŠÙˆÙ…ÙŠØ© Ù…Ø¹ Ø§Ù„Ù†Ø·Ù‚</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… */
        .progress-bar {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .progress-info {
            display: flex;
            gap: 30px;
            align-items: center;
        }

        .progress-item {
            text-align: center;
        }

        .progress-item h3 {
            color: #667eea;
            font-size: 28px;
            margin-bottom: 5px;
        }

        .progress-item p {
            color: #666;
            font-size: 14px;
        }

        .stats-badge {
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…ÙØ±Ø¯Ø§Øª */
        .vocab-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            transition: transform 0.3s;
        }

        .vocab-card:hover {
            transform: translateY(-5px);
        }

        .card-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .word-display {
            text-align: center;
            flex-grow: 1;
        }

        .english-word {
            font-size: 48px;
            font-weight: bold;
            margin-bottom: 10px;
            letter-spacing: 1px;
            direction: ltr;
            text-align: center;
        }

        .pronunciation {
            font-size: 18px;
            color: rgba(255,255,255,0.8);
            margin-bottom: 15px;
            direction: ltr;
            text-align: center;
        }

        .word-type {
            background: rgba(255,255,255,0.2);
            padding: 5px 15px;
            border-radius: 20px;
            display: inline-block;
            font-size: 14px;
        }

        .difficulty-badge {
            background: rgba(255,255,255,0.2);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 14px;
        }

        .speech-controls {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            justify-content: center;
        }

        .speech-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 18px;
        }

        .speech-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.1);
        }

        .card-body {
            padding: 30px;
        }

        .section-title {
            color: #667eea;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .section-controls {
            display: flex;
            gap: 10px;
        }

        .arabic-meaning {
            font-size: 24px;
            color: #333;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .examples {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .example-item {
            margin-bottom: 15px;
            padding-right: 15px;
            border-right: 3px solid #667eea;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }

        .example-content {
            flex-grow: 1;
        }

        .example-english {
            font-size: 18px;
            color: #333;
            margin-bottom: 5px;
            direction: ltr;
            text-align: left;
        }

        .example-arabic {
            font-size: 16px;
            color: #666;
        }

        .example-speech-btn {
            background: #667eea;
            border: none;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            margin-right: 10px;
        }

        .example-speech-btn:hover {
            background: #764ba2;
            transform: scale(1.1);
        }

        .synonyms {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }

        .synonym-tag {
            background: #e3f2fd;
            color: #1976d2;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .synonym-tag:hover {
            background: #1976d2;
            color: white;
        }

        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… */
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 30px 0;
        }

        .control-btn {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
        }

        .btn-primary {
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #2196F3, #1976D2);
            color: white;
        }

        .btn-outline {
            background: white;
            color: #667eea;
            border: 2px solid #667eea;
        }

        .btn-speech {
            background: linear-gradient(135deg, #FF9800, #F57C00);
            color: white;
        }

        .control-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        /* Ù‚Ø³Ù… Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ† */
        .exercises-section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .exercise-card {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            border-left: 5px solid #667eea;
        }

        .exercise-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .exercise-question {
            font-size: 20px;
            color: #333;
            flex-grow: 1;
        }

        .exercise-speech-btn {
            background: #667eea;
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .exercise-speech-btn:hover {
            background: #764ba2;
            transform: scale(1.1);
        }

        .options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .option {
            padding: 15px;
            background: white;
            border: 2px solid #ddd;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .option:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .option.correct {
            background: #4CAF50;
            color: white;
            border-color: #4CAF50;
        }

        .option.wrong {
            background: #f44336;
            color: white;
            border-color: #f44336;
        }

        .option-speech-btn {
            background: transparent;
            border: none;
            color: inherit;
            cursor: pointer;
            font-size: 14px;
            opacity: 0.7;
        }

        .option-speech-btn:hover {
            opacity: 1;
        }

        /* Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØºØ°ÙŠØ© Ø§Ù„Ø±Ø§Ø¬Ø¹Ø© */
        .feedback {
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            text-align: center;
            font-weight: bold;
            animation: fadeIn 0.5s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .feedback.correct {
            background: #E8F5E9;
            color: #2E7D32;
            border: 2px solid #4CAF50;
        }

        .feedback.wrong {
            background: #FFEBEE;
            color: #C62828;
            border: 2px solid #f44336;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙØ±Ø¯Ø§Øª */
        .vocab-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .vocab-item {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
            position: relative;
        }

        .vocab-item:hover {
            border-color: #667eea;
            transform: translateY(-5px);
        }

        .vocab-item.learned {
            border-color: #4CAF50;
            background: #F1F8E9;
        }

        .vocab-item.review {
            border-color: #FF9800;
            background: #FFF3E0;
        }

        .vocab-item.new {
            border-color: #2196F3;
            background: #E3F2FD;
        }

        .item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .item-english {
            font-size: 24px;
            font-weight: bold;
            color: #333;
            direction: ltr;
        }

        .item-arabic {
            font-size: 18px;
            color: #666;
            margin-bottom: 10px;
        }

        .item-stats {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            flex-wrap: wrap;
        }

        .stat {
            font-size: 12px;
            padding: 3px 8px;
            border-radius: 10px;
            background: #f0f0f0;
        }

        .item-speech-btn {
            position: absolute;
            top: 15px;
            left: 15px;
            background: #667eea;
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }

        .item-speech-btn:hover {
            background: #764ba2;
            transform: scale(1.1);
        }

        /* Ù‚Ø³Ù… Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª */
        .stats-section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .stat-card {
            text-align: center;
            padding: 20px;
            border-radius: 15px;
            background: #f8f9fa;
        }

        .stat-icon {
            font-size: 36px;
            margin-bottom: 15px;
        }

        .stat-number {
            font-size: 32px;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #666;
            font-size: 14px;
        }

        /* Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø·Ù‚ */
        .speech-settings {
            position: fixed;
            top: 20px;
            left: 20px;
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            display: none;
        }

        .speech-settings.active {
            display: block;
            animation: slideIn 0.3s;
        }

        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .setting-item {
            margin: 10px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .setting-label {
            font-size: 14px;
            color: #666;
        }

        .setting-control {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .volume-slider {
            width: 100px;
        }

        /* Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª */
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #4CAF50;
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
            animation: slideUp 0.5s;
        }

        @keyframes slideUp {
            from { transform: translateY(100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* Ø§Ù„ØªØ¬Ø§ÙˆØ¨ */
        @media (max-width: 768px) {
            .progress-bar {
                flex-direction: column;
                gap: 20px;
            }
            
            .progress-info {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .controls {
                flex-direction: column;
            }
            
            .card-header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .english-word {
                font-size: 36px;
            }
            
            .speech-settings {
                position: relative;
                top: auto;
                left: auto;
                margin: 20px 0;
            }
        }

        /* Ù…Ø¤Ø´Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù„Ù„Ù†Ø·Ù‚ */
        .speech-loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid #f3f3f3;
            border-top: 2px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .home-btn {
            position: absolute;
            top: 30px;
            left: 30px;
            background: var(--dark);
            color: #1229ac;
            padding: 15px 25px;
            border-radius: 20px;
            text-decoration: none;
            font-size: 20px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: 0.3s;
            z-index: 1000;
        }
        .home-btn:hover {
            background: #000;
            transform: scale(1.05);
        }

    </style>
</head>
<body>
<a href="../../../../../teacher_dashbord/english_dashboard.html" class="home-btn">
        <i class="fas fa-arrow-left"></i> Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
    </a>
    
    <div class="container">


        
        <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… -->
        <div class="progress-bar">



            
            <h1 style="color: #667eea;">
                <i class="fas fa-language"></i> Ø¨Ø±Ù†Ø§Ù…Ø¬ ØªØ¹Ù„Ù… Ø§Ù„Ù…ÙØ±Ø¯Ø§Øª Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ù…Ø¹ Ø§Ù„Ù†Ø·Ù‚
            </h1>
            <div class="progress-info">

 
                
                <div class="progress-item">
                    <h3 id="learnedWords">0</h3>
                    <p>ÙƒÙ„Ù…Ø§Øª Ù…ÙƒØªØ³Ø¨Ø©</p>
                </div>
                <div class="progress-item">
                    <h3 id="streakDays">0</h3>
                    <p>Ø£ÙŠØ§Ù… Ù…ØªØªØ§Ù„ÙŠØ©</p>
                </div>
                <div class="progress-item">
                    <h3 id="accuracy">0%</h3>
                    <p>Ø¯Ù‚Ø© Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª</p>
                </div>
                <div class="stats-badge">
                    <i class="fas fa-fire"></i>
                    <span id="points">0</span> Ù†Ù‚Ø·Ø©
                </div>
            </div>
        </div>

        <!-- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø·Ù‚ -->
        <div class="speech-settings" id="speechSettings">
            <h4 style="color: #667eea; margin-bottom: 15px;">
                <i class="fas fa-volume-up"></i> Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø·Ù‚
            </h4>
            <div class="setting-item">
                <span class="setting-label">Ø§Ù„ØµÙˆØª:</span>
                <div class="setting-control">
                    <select id="voiceSelect" onchange="changeVoice()">
                        <option value="auto">ØªÙ„Ù‚Ø§Ø¦ÙŠ (Ù…ØªØµÙØ­)</option>
                    </select>
                </div>
            </div>
            <div class="setting-item">
                <span class="setting-label">Ø§Ù„Ø³Ø±Ø¹Ø©:</span>
                <div class="setting-control">
                    <input type="range" id="rateSlider" min="0.5" max="2" step="0.1" value="1" 
                           onchange="changeRate(this.value)">
                    <span id="rateValue">1.0</span>
                </div>
            </div>
            <div class="setting-item">
                <span class="setting-label">Ø§Ù„Ø§Ø±ØªÙØ§Ø¹:</span>
                <div class="setting-control">
                    <input type="range" id="pitchSlider" min="0.5" max="2" step="0.1" value="1" 
                           onchange="changePitch(this.value)">
                    <span id="pitchValue">1.0</span>
                </div>
            </div>
            <div class="setting-item">
                <span class="setting-label">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµÙˆØª:</span>
                <div class="setting-control">
                    <input type="range" id="volumeSlider" min="0" max="1" step="0.1" value="1" 
                           onchange="changeVolume(this.value)">
                    <span id="volumeValue">100%</span>
                </div>
            </div>
            <div class="setting-item">
                <span class="setting-label">Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ:</span>
                <div class="setting-control">
                    <input type="checkbox" id="autoSpeech" onchange="toggleAutoSpeech()">
                    <label for="autoSpeech">Ù†Ø·Ù‚ ØªÙ„Ù‚Ø§Ø¦ÙŠ</label>
                </div>
            </div>
        </div>

        <!-- Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…ÙØ±Ø¯Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
        <div class="vocab-card" id="mainCard">
            <div class="card-header">
                <div class="word-display">
                    <div class="english-word" id="currentWord">Hello</div>
                    <div class="pronunciation" id="currentPronunciation">/hÉ™ËˆlÉ™ÊŠ/</div>
                    <span class="word-type" id="currentType">ØªØ­ÙŠØ©</span>
                    
                    <div class="speech-controls">
                        <button class="speech-btn" onclick="speakCurrentWord()" title="Ù†Ø·Ù‚ Ø§Ù„ÙƒÙ„Ù…Ø©">
                            <i class="fas fa-volume-up"></i>
                        </button>
                        <button class="speech-btn" onclick="speakSlowly()" title="Ù†Ø·Ù‚ Ø¨Ø·ÙŠØ¡">
                            <i class="fas fa-tachometer-alt"></i>
                        </button>
                        <button class="speech-btn" onclick="repeatWord(3)" title="ØªÙƒØ±Ø§Ø± 3 Ù…Ø±Ø§Øª">
                            <i class="fas fa-redo"></i>
                        </button>
                        <button class="speech-btn" onclick="toggleSettings()" title="Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø·Ù‚">
                            <i class="fas fa-cog"></i>
                        </button>
                    </div>
                </div>
                <div class="difficulty-badge" id="currentDifficulty">Ø³Ù‡Ù„</div>
            </div>
            <div class="card-body">
                <div class="section-title">
                    <div>
                        <i class="fas fa-book"></i>
                        Ø§Ù„Ù…Ø¹Ù†Ù‰ Ø§Ù„Ø¹Ø±Ø¨ÙŠ
                    </div>
                    <button class="example-speech-btn" onclick="speakMeaning()" title="Ù†Ø·Ù‚ Ø§Ù„Ù…Ø¹Ù†Ù‰">
                        <i class="fas fa-volume-up"></i>
                    </button>
                </div>
                <div class="arabic-meaning" id="currentMeaning">
                    ØªØ³ØªØ®Ø¯Ù… Ù„Ù„ØªØ±Ø­ÙŠØ¨ Ø¨Ø´Ø®Øµ Ù…Ø§ Ø£Ùˆ Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ø§ØªÙ
                </div>

                <div class="section-title">
                    <div>
                        <i class="fas fa-comment-alt"></i>
                        Ø£Ù…Ø«Ù„Ø© ÙÙŠ Ø¬Ù…Ù„
                    </div>
                    <button class="example-speech-btn" onclick="speakAllExamples()" title="Ù†Ø·Ù‚ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù…Ø«Ù„Ø©">
                        <i class="fas fa-play"></i>
                    </button>
                </div>
                <div class="examples" id="currentExamples">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                </div>

                <div class="section-title">
                    <div>
                        <i class="fas fa-sync-alt"></i>
                        Ù…Ø±Ø§Ø¯ÙØ§Øª
                    </div>
                    <button class="example-speech-btn" onclick="speakAllSynonyms()" title="Ù†Ø·Ù‚ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§Ø¯ÙØ§Øª">
                        <i class="fas fa-volume-up"></i>
                    </button>
                </div>
                <div class="synonyms" id="currentSynonyms">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                </div>
            </div>
        </div>

        <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… -->
        <div class="controls">
            <button class="control-btn btn-outline" onclick="showPreviousWord()">
                <i class="fas fa-arrow-right"></i> Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
            </button>
            <button class="control-btn btn-secondary" onclick="markAsLearned()">
                <i class="fas fa-check-circle"></i> ØªØ¹Ù„Ù…ØªÙ‡Ø§
            </button>
            <button class="control-btn btn-speech" onclick="practicePronunciation()">
                <i class="fas fa-microphone"></i> ØªØ¯Ø±Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø·Ù‚
            </button>
            <button class="control-btn btn-primary" onclick="showNextWord()">
                Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„ØªØ§Ù„ÙŠØ© <i class="fas fa-arrow-left"></i>
            </button>
            <button class="control-btn btn-outline" onclick="togglePracticeMode()">
                <i class="fas fa-brain"></i> ÙˆØ¶Ø¹ Ø§Ù„ØªÙ…Ø±ÙŠÙ†
            </button>
        </div>

        <!-- Ù‚Ø³Ù… Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ† (Ù…Ø®ÙÙŠ ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©) -->
        <div class="exercises-section" id="practiceSection" style="display: none;">
            <h2 class="section-title">
                <i class="fas fa-puzzle-piece"></i>
                ØªØ¯Ø±Ø¨ Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ„Ù…Ø©
            </h2>
            
            <!-- Ø§Ù„ØªÙ…Ø±ÙŠÙ† Ø§Ù„Ø£ÙˆÙ„: Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø¹Ù†Ù‰ -->
            <div class="exercise-card">
                <div class="exercise-header">
                    <div class="exercise-question" id="question1">
                        Ù…Ø§ Ù…Ø¹Ù†Ù‰ ÙƒÙ„Ù…Ø© "<span id="questionWord">Hello</span>"ØŸ
                    </div>
                    <button class="exercise-speech-btn" onclick="speakQuestion('question1')">
                        <i class="fas fa-volume-up"></i>
                    </button>
                </div>
                <div class="options" id="options1">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                </div>
                <div class="feedback" id="feedback1" style="display: none;"></div>
            </div>

            <!-- Ø§Ù„ØªÙ…Ø±ÙŠÙ† Ø§Ù„Ø«Ø§Ù†ÙŠ: Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© -->
            <div class="exercise-card">
                <div class="exercise-header">
                    <div class="exercise-question">
                        Ø§Ø®ØªØ± Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ø¬Ù…Ù„Ø©:
                        <div style="margin-top: 10px; color: #666; font-size: 18px;" id="sentenceQuestion">
                            Ø¹Ù†Ø¯Ù…Ø§ ØªÙ‚Ø§Ø¨Ù„ ØµØ¯ÙŠÙ‚Ø§Ù‹ØŒ ØªÙ‚ÙˆÙ„ ______
                        </div>
                    </div>
                    <button class="exercise-speech-btn" onclick="speakQuestion('sentenceQuestion')">
                        <i class="fas fa-volume-up"></i>
                    </button>
                </div>
                <div class="options" id="options2">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                </div>
                <div class="feedback" id="feedback2" style="display: none;"></div>
            </div>

            <!-- Ø§Ù„ØªÙ…Ø±ÙŠÙ† Ø§Ù„Ø«Ø§Ù„Ø«: Ù†Ø·Ù‚ ÙˆØ§Ø³ØªÙ…Ø¹ -->
            <div class="exercise-card">
                <div class="exercise-header">
                    <div class="exercise-question">
                        Ø§Ø³ØªÙ…Ø¹ Ù„Ù„Ø¬Ù…Ù„Ø© Ø«Ù… Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¹Ù†Ù‰ Ø§Ù„ØµØ­ÙŠØ­:
                    </div>
                    <button class="exercise-speech-btn" onclick="speakListeningExercise()">
                        <i class="fas fa-play"></i>
                    </button>
                </div>
                <div style="text-align: center; margin: 20px 0;">
                    <button class="control-btn btn-speech" onclick="startRecording()" id="recordBtn">
                        <i class="fas fa-microphone"></i> Ø§Ø¶ØºØ· Ù„Ù„ØªØ³Ø¬ÙŠÙ„ ÙˆÙ…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ù†Ø·Ù‚
                    </button>
                    <div id="recordingStatus" style="margin-top: 10px; display: none;">
                        <div class="speech-loading"></div>
                        <span>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ³Ø¬ÙŠÙ„...</span>
                    </div>
                </div>
                <div class="options" id="options3">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                </div>
                <div class="feedback" id="feedback3" style="display: none;"></div>
            </div>
        </div>

        <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙØ±Ø¯Ø§Øª -->
        <div class="exercises-section">
            <h2 class="section-title">
                <i class="fas fa-list"></i>
                Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙØ±Ø¯Ø§Øª
            </h2>
            <div class="controls" style="justify-content: flex-start; margin-bottom: 20px;">
                <button class="control-btn btn-outline" onclick="filterWords('all')">
                    Ø§Ù„ÙƒÙ„
                </button>
                <button class="control-btn btn-outline" onclick="filterWords('learned')">
                    Ø§Ù„Ù…ÙƒØªØ³Ø¨Ø©
                </button>
                <button class="control-btn btn-outline" onclick="filterWords('review')">
                    ØªØ­Øª Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©
                </button>
                <button class="control-btn btn-outline" onclick="filterWords('new')">
                    Ø¬Ø¯ÙŠØ¯Ø©
                </button>
                <button class="control-btn btn-speech" onclick="speakRandomWord()">
                    <i class="fas fa-random"></i> ÙƒÙ„Ù…Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ù…Ø¹ Ø§Ù„Ù†Ø·Ù‚
                </button>
            </div>
            <div class="vocab-list" id="vocabList">
                <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
            </div>
        </div>

        <!-- Ù‚Ø³Ù… Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
        <div class="stats-section">
            <h2 class="section-title">
                <i class="fas fa-chart-line"></i>
                Ø¥Ø­ØµØ§Ø¦ÙŠØ§ØªÙƒ
            </h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon" style="color: #4CAF50;">
                        <i class="fas fa-book"></i>
                    </div>
                    <div class="stat-number" id="totalWords">50</div>
                    <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙƒÙ„Ù…Ø§Øª</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="color: #2196F3;">
                        <i class="fas fa-volume-up"></i>
                    </div>
                    <div class="stat-number" id="speechCount">0</div>
                    <div class="stat-label">Ù…Ø±Ø§Øª Ø§Ù„Ù†Ø·Ù‚</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="color: #FF9800;">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <div class="stat-number" id="level">1</div>
                    <div class="stat-label">Ù…Ø³ØªÙˆØ§Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="color: #9C27B0;">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                    <div class="stat-number" id="studyDays">7</div>
                    <div class="stat-label">ÙŠÙˆÙ… Ø¯Ø±Ø§Ø³Ø©</div>
                </div>
            </div>
        </div>
    </div>

    <!-- ØªÙ†Ø¨ÙŠÙ‡Ø§Øª -->
    <div id="notification" class="notification" style="display: none;"></div>

    <script>
document.body.addEventListener('touchstart', function() {
    // ØªØ´ØºÙŠÙ„ Ù†Ø·Ù‚ ÙØ§Ø±Øº Ù„Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© Ù„ÙÙƒ Ø­Ø¸Ø± Ø§Ù„Ù…ØªØµÙØ­
    const silent = new SpeechSynthesisUtterance('');
    window.speechSynthesis.speak(silent);
}, { once: true });



        // Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙØ±Ø¯Ø§Øª Ù…Ø¹ Ø¬Ù…Ù„ Ù„Ù„Ù†Ø·Ù‚
        const vocabulary = [
            {
                id: 1,
                english: "Hello",
                pronunciation: "/hÉ™ËˆlÉ™ÊŠ/",
                arabic: "Ù…Ø±Ø­Ø¨Ù‹Ø§",
                type: "ØªØ­ÙŠØ©",
                difficulty: "easy",
                meaning: "ØªØ³ØªØ®Ø¯Ù… Ù„Ù„ØªØ±Ø­ÙŠØ¨ Ø¨Ø´Ø®Øµ Ù…Ø§ Ø£Ùˆ Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ø§ØªÙ",
                examples: [
                    { 
                        english: "Hello, how are you today?", 
                        arabic: "Ù…Ø±Ø­Ø¨Ù‹Ø§ØŒ ÙƒÙŠÙ Ø­Ø§Ù„Ùƒ Ø§Ù„ÙŠÙˆÙ…ØŸ",
                        speech: "Hello, how are you today?"
                    },
                    { 
                        english: "I said hello to my neighbor.", 
                        arabic: "Ø³Ù„Ù…Øª Ø¹Ù„Ù‰ Ø¬Ø§Ø±ÙŠ",
                        speech: "I said hello to my neighbor."
                    }
                ],
                synonyms: ["Hi", "Greetings", "Hey"],
                listeningExercise: {
                    sentence: "Hello, nice to meet you.",
                    options: [
                        { text: "ÙˆØ¯Ø§Ø¹Ù‹Ø§ØŒ Ø³Ø¹ÙŠØ¯ Ø¨Ù„Ù‚Ø§Ø¦Ùƒ", correct: false },
                        { text: "Ù…Ø±Ø­Ø¨Ù‹Ø§ØŒ Ø³Ø¹ÙŠØ¯ Ø¨Ù„Ù‚Ø§Ø¦Ùƒ", correct: true },
                        { text: "Ø¢Ø³ÙØŒ Ù„Ù… Ø£Ø³Ù…Ø¹Ùƒ", correct: false },
                        { text: "Ø´ÙƒØ±Ù‹Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©", correct: false }
                    ]
                },
                learned: true,
                reviewCount: 0,
                lastReviewed: new Date()
            },
            {
                id: 2,
                english: "Thank you",
                pronunciation: "/ËˆÎ¸Ã¦Å‹k juË/",
                arabic: "Ø´ÙƒØ±Ù‹Ø§ Ù„Ùƒ",
                type: "ØªØ¹Ø¨ÙŠØ± Ù…Ø¬Ø§Ù…Ù„",
                difficulty: "easy",
                meaning: "ØªØ³ØªØ®Ø¯Ù… Ù„Ù„ØªØ¹Ø¨ÙŠØ± Ø¹Ù† Ø§Ù„Ø§Ù…ØªÙ†Ø§Ù† ÙˆØ§Ù„ØªÙ‚Ø¯ÙŠØ±",
                examples: [
                    { 
                        english: "Thank you for your help.", 
                        arabic: "Ø´ÙƒØ±Ù‹Ø§ Ù„Ùƒ Ø¹Ù„Ù‰ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ",
                        speech: "Thank you for your help."
                    },
                    { 
                        english: "I want to thank you from the bottom of my heart.", 
                        arabic: "Ø£Ø±ÙŠØ¯ Ø£Ù† Ø£Ø´ÙƒØ±Ùƒ Ù…Ù† Ø£Ø¹Ù…Ø§Ù‚ Ù‚Ù„Ø¨ÙŠ",
                        speech: "I want to thank you from the bottom of my heart."
                    }
                ],
                synonyms: ["Thanks", "Gratitude", "Appreciation"],
                listeningExercise: {
                    sentence: "Thank you very much for your kindness.",
                    options: [
                        { text: "Ø£Ù†Ø§ Ø¢Ø³Ù Ø¹Ù„Ù‰ ØªØ£Ø®Ø±ÙŠ", correct: false },
                        { text: "Ø´ÙƒØ±Ù‹Ø§ Ø¬Ø²ÙŠÙ„Ù‹Ø§ Ø¹Ù„Ù‰ Ù„Ø·ÙÙƒ", correct: true },
                        { text: "Ù…Ù† ÙØ¶Ù„Ùƒ Ø³Ø§Ø¹Ø¯Ù†ÙŠ", correct: false },
                        { text: "Ù‡Ø°Ø§ Ø³Ù‡Ù„ Ø¬Ø¯Ù‹Ø§", correct: false }
                    ]
                },
                learned: true,
                reviewCount: 2,
                lastReviewed: new Date()
            },
            {
                id: 3,
                english: "Please",
                pronunciation: "/pliËz/",
                arabic: "Ù…Ù† ÙØ¶Ù„Ùƒ",
                type: "ØªØ¹Ø¨ÙŠØ± Ù…Ø¬Ø§Ù…Ù„",
                difficulty: "easy",
                meaning: "ØªØ³ØªØ®Ø¯Ù… Ù„Ø·Ù„Ø¨ Ø´ÙŠØ¡ Ø¨Ø·Ø±ÙŠÙ‚Ø© Ù…Ù‡Ø°Ø¨Ø©",
                examples: [
                    { 
                        english: "Please pass me the salt.", 
                        arabic: "Ù…Ù† ÙØ¶Ù„Ùƒ Ù…Ø±Ø± Ù„ÙŠ Ø§Ù„Ù…Ù„Ø­",
                        speech: "Please pass me the salt."
                    },
                    { 
                        english: "Could you please help me?", 
                        arabic: "Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ø³Ø§Ø¹Ø¯ØªÙŠ Ù…Ù† ÙØ¶Ù„ÙƒØŸ",
                        speech: "Could you please help me?"
                    }
                ],
                synonyms: ["Kindly", "If you please"],
                listeningExercise: {
                    sentence: "Please be quiet in the library.",
                    options: [
                        { text: "Ù…Ù† ÙØ¶Ù„Ùƒ ÙƒÙ† Ù‡Ø§Ø¯Ø¦Ù‹Ø§ ÙÙŠ Ø§Ù„Ù…ÙƒØªØ¨Ø©", correct: true },
                        { text: "Ø§Ø±Ø¬Ø¹ Ø¥Ù„Ù‰ Ø§Ù„Ø¨ÙŠØª", correct: false },
                        { text: "Ø£Ø­Ø¨ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©", correct: false },
                        { text: "Ù‡Ø°Ø§ ÙƒØªØ§Ø¨ ÙƒØ¨ÙŠØ±", correct: false }
                    ]
                },
                learned: false,
                reviewCount: 0,
                lastReviewed: null
            },
            {
                id: 4,
                english: "Goodbye",
                pronunciation: "/ËŒÉ¡ÊŠdËˆbaÉª/",
                arabic: "ÙˆØ¯Ø§Ø¹Ù‹Ø§",
                type: "ØªØ­ÙŠØ©",
                difficulty: "easy",
                meaning: "ØªØ³ØªØ®Ø¯Ù… Ø¹Ù†Ø¯ Ø§Ù„ÙˆØ¯Ø§Ø¹ Ø£Ùˆ Ø§Ù„Ù…ØºØ§Ø¯Ø±Ø©",
                examples: [
                    { 
                        english: "Goodbye, see you tomorrow!", 
                        arabic: "ÙˆØ¯Ø§Ø¹Ù‹Ø§ØŒ Ø£Ø±Ø§Ùƒ ØºØ¯Ù‹Ø§!",
                        speech: "Goodbye, see you tomorrow!"
                    },
                    { 
                        english: "She waved goodbye to her friends.", 
                        arabic: "Ù„ÙˆØ­Øª Ù„ØµØ¯ÙŠÙ‚Ø§ØªÙ‡Ø§ Ø¨Ø§Ù„ÙˆØ¯Ø§Ø¹",
                        speech: "She waved goodbye to her friends."
                    }
                ],
                synonyms: ["Farewell", "See you", "Bye"],
                listeningExercise: {
                    sentence: "Goodbye and take care of yourself.",
                    options: [
                        { text: "ÙˆØ¯Ø§Ø¹Ù‹Ø§ ÙˆØ§Ø¹ØªÙ† Ø¨Ù†ÙØ³Ùƒ", correct: true },
                        { text: "ØµØ¨Ø§Ø­ Ø§Ù„Ø®ÙŠØ± ÙŠØ§ ØµØ¯ÙŠÙ‚ÙŠ", correct: false },
                        { text: "Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…Ø³Ø§Ø¹Ø¯Ø©ØŸ", correct: false },
                        { text: "Ø£Ù†Ø§ Ø³Ø¹ÙŠØ¯ Ø¬Ø¯Ù‹Ø§", correct: false }
                    ]
                },
                learned: true,
                reviewCount: 1,
                lastReviewed: new Date()
            },
            {
                id: 5,
                english: "Beautiful",
                pronunciation: "/ËˆbjuËtÉªfÉ™l/",
                arabic: "Ø¬Ù…ÙŠÙ„",
                type: "ØµÙØ©",
                difficulty: "medium",
                meaning: "Ø´ÙŠØ¡ ÙŠØ³Ø± Ø§Ù„Ù†Ø§Ø¸Ø±ÙŠÙ† ÙˆÙŠØ«ÙŠØ± Ø§Ù„Ø¥Ø¹Ø¬Ø§Ø¨",
                examples: [
                    { 
                        english: "What a beautiful sunset!", 
                        arabic: "ÙŠØ§ Ù„Ù‡Ø§ Ù…Ù† ØºØ±ÙˆØ¨ Ø¬Ù…ÙŠÙ„!",
                        speech: "What a beautiful sunset!"
                    },
                    { 
                        english: "She has a beautiful voice.", 
                        arabic: "Ù„Ø¯ÙŠÙ‡Ø§ ØµÙˆØª Ø¬Ù…ÙŠÙ„",
                        speech: "She has a beautiful voice."
                    }
                ],
                synonyms: ["Pretty", "Lovely", "Gorgeous", "Stunning"],
                listeningExercise: {
                    sentence: "This is the most beautiful garden I have ever seen.",
                    options: [
                        { text: "Ù‡Ø°Ø§ Ù…Ù…Ù„ Ø¬Ø¯Ù‹Ø§", correct: false },
                        { text: "Ù‡Ø°Ø§ Ø£ØºÙ„Ù‰ Ø´ÙŠØ¡ Ù„Ø¯ÙŠ", correct: false },
                        { text: "Ù‡Ø°Ø§ Ø£Ø¬Ù…Ù„ Ø­Ø¯ÙŠÙ‚Ø© Ø±Ø£ÙŠØªÙ‡Ø§ ÙÙŠ Ø­ÙŠØ§ØªÙŠ", correct: true },
                        { text: "Ø£Ø­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„ÙˆÙ‚Øª", correct: false }
                    ]
                },
                learned: false,
                reviewCount: 0,
                lastReviewed: null
            }
        ];

        // Ø­Ø§Ù„Ø© Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬
        let currentWordIndex = 0;
        let points = 0;
        let learnedWords = 0;
        let streakDays = 1;
        let correctAnswers = 0;
        let totalAnswers = 0;
        let practiceMode = false;
        let speechCount = 0;

        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø·Ù‚
        let speechSettings = {
            voice: null,
            rate: 1,
            pitch: 1,
            volume: 1,
            autoSpeech: false
        };

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', function() {
            loadStats();
            displayCurrentWord();
            updateVocabList();
            updateProgress();
            showDailyNotification();
            initializeSpeech();
            
            // ØªØ­Ø¯ÙŠØ« ÙˆÙ‚Øª Ø§Ù„Ø¯Ø±Ø§Ø³Ø© ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø©
            setInterval(updateStudyTime, 60000);
        });

        // ØªÙ‡ÙŠØ¦Ø© Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ø·Ù‚
        function initializeSpeech() {
            if ('speechSynthesis' in window) {
                // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£ØµÙˆØ§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©
                updateVoiceList();
                
                // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ Ù„ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£ØµÙˆØ§Øª Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
                speechSynthesis.addEventListener('voiceschanged', updateVoiceList);
                
                showNotification('ğŸ¤ Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ø·Ù‚ Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…');
            } else {
                showNotification('âš ï¸ Ø¹Ø°Ø±Ù‹Ø§ØŒ Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ù…ÙŠØ²Ø© Ø§Ù„Ù†Ø·Ù‚');
            }
        }

        // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£ØµÙˆØ§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©
        function updateVoiceList() {
            const voices = speechSynthesis.getVoices();
            const voiceSelect = document.getElementById('voiceSelect');
            
            // Ø­ÙØ¸ Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ
            const currentSelection = voiceSelect.value;
            
            // Ù…Ø³Ø­ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
            voiceSelect.innerHTML = '<option value="auto">ØªÙ„Ù‚Ø§Ø¦ÙŠ (Ù…ØªØµÙØ­)</option>';
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£ØµÙˆØ§Øª Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©
            voices.forEach((voice, index) => {
                if (voice.lang.startsWith('en')) {
                    const option = document.createElement('option');
                    option.value = index;
                    option.textContent = `${voice.name} (${voice.lang})`;
                    voiceSelect.appendChild(option);
                }
            });
            
            // Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø³Ø§Ø¨Ù‚ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯Ù‹Ø§
            if (currentSelection && voices[currentSelection]) {
                voiceSelect.value = currentSelection;
            }
        }

        // Ù†Ø·Ù‚ Ø§Ù„Ù†Øµ
        function speakText(text, settings = {}) {
            return new Promise((resolve, reject) => {
                if (!('speechSynthesis' in window)) {
                    reject('Speech synthesis not supported');
                    return;
                }

                // Ø¥ÙŠÙ‚Ø§Ù Ø£ÙŠ Ù†Ø·Ù‚ Ø¬Ø§Ø±ÙŠ
                speechSynthesis.cancel();

                const utterance = new SpeechSynthesisUtterance(text);
                
                // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
                utterance.rate = settings.rate || speechSettings.rate;
                utterance.pitch = settings.pitch || speechSettings.pitch;
                utterance.volume = settings.volume || speechSettings.volume;
                
                // Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØµÙˆØª
                const voices = speechSynthesis.getVoices();
                if (speechSettings.voice !== null && voices[speechSettings.voice]) {
                    utterance.voice = voices[speechSettings.voice];
                } else if (settings.voice !== undefined && voices[settings.voice]) {
                    utterance.voice = voices[settings.voice];
                }

                // Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù†Ø·Ù‚
                utterance.onstart = () => {
                    console.log('Started speaking:', text);
                };

                utterance.onend = () => {
                    console.log('Finished speaking');
                    resolve();
                };

                utterance.onerror = (event) => {
                    console.error('Speech error:', event);
                    reject(event);
                };

                // Ø²ÙŠØ§Ø¯Ø© Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù†Ø·Ù‚
                speechCount++;
                updateProgress();

                // Ø¨Ø¯Ø¡ Ø§Ù„Ù†Ø·Ù‚
                speechSynthesis.speak(utterance);
            });
        }

        // Ù†Ø·Ù‚ Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
        async function speakCurrentWord() {
            const word = vocabulary[currentWordIndex];
            await speakText(word.english);
        }

        // Ù†Ø·Ù‚ Ø§Ù„ÙƒÙ„Ù…Ø© Ø¨Ø¨Ø·Ø¡
        async function speakSlowly() {
            const word = vocabulary[currentWordIndex];
            await speakText(word.english, { rate: 0.7 });
        }

        // ØªÙƒØ±Ø§Ø± Ø§Ù„ÙƒÙ„Ù…Ø© Ø¹Ø¯Ø© Ù…Ø±Ø§Øª
        async function repeatWord(times) {
            const word = vocabulary[currentWordIndex];
            for (let i = 0; i < times; i++) {
                await speakText(word.english);
                await new Promise(resolve => setTimeout(resolve, 500)); // Ø§Ù†ØªØ¸Ø§Ø± Ù†ØµÙ Ø«Ø§Ù†ÙŠØ© Ø¨ÙŠÙ† Ø§Ù„ØªÙƒØ±Ø§Ø±Ø§Øª
            }
        }

        // Ù†Ø·Ù‚ Ø§Ù„Ù…Ø¹Ù†Ù‰ Ø§Ù„Ø¹Ø±Ø¨ÙŠ
        async function speakMeaning() {
            const word = vocabulary[currentWordIndex];
            await speakText(word.meaning, { rate: 0.9 });
        }

        // Ù†Ø·Ù‚ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù…Ø«Ù„Ø©
        async function speakAllExamples() {
            const word = vocabulary[currentWordIndex];
            for (const example of word.examples) {
                await speakText(example.speech);
                await new Promise(resolve => setTimeout(resolve, 1000)); // Ø§Ù†ØªØ¸Ø§Ø± Ø«Ø§Ù†ÙŠØ© Ø¨ÙŠÙ† Ø§Ù„Ø£Ù…Ø«Ù„Ø©
            }
        }

        // Ù†Ø·Ù‚ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§Ø¯ÙØ§Øª
        async function speakAllSynonyms() {
            const word = vocabulary[currentWordIndex];
            for (const synonym of word.synonyms) {
                await speakText(synonym);
                await new Promise(resolve => setTimeout(resolve, 500)); // Ø§Ù†ØªØ¸Ø§Ø± Ù†ØµÙ Ø«Ø§Ù†ÙŠØ© Ø¨ÙŠÙ† Ø§Ù„Ù…Ø±Ø§Ø¯ÙØ§Øª
            }
        }

        // Ù†Ø·Ù‚ Ø³Ø¤Ø§Ù„
        async function speakQuestion(questionId) {
            const questionElement = document.getElementById(questionId);
            const text = questionElement.textContent || questionElement.innerText;
            await speakText(text, { rate: 0.9 });
        }

        // Ù†Ø·Ù‚ ØªÙ…Ø±ÙŠÙ† Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹
        async function speakListeningExercise() {
            const word = vocabulary[currentWordIndex];
            if (word.listeningExercise) {
                await speakText(word.listeningExercise.sentence);
            }
        }

        // Ù†Ø·Ù‚ ÙƒÙ„Ù…Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
        async function speakRandomWord() {
            const randomIndex = Math.floor(Math.random() * vocabulary.length);
            const randomWord = vocabulary[randomIndex];
            
            await speakText(randomWord.english);
            showNotification(`ğŸ”Š ØªÙ… Ù†Ø·Ù‚ ÙƒÙ„Ù…Ø©: ${randomWord.english} - ${randomWord.arabic}`);
        }

        // Ø§Ù„ØªÙ…Ø±ÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø·Ù‚
        async function practicePronunciation() {
            const word = vocabulary[currentWordIndex];
            
            // Ù†Ø·Ù‚ Ø§Ù„ÙƒÙ„Ù…Ø© Ø¨Ø¨Ø·Ø¡
            await speakText(word.english, { rate: 0.7 });
            
            // Ø§Ù†ØªØ¸Ø§Ø± Ù‚Ù„ÙŠÙ„
            await new Promise(resolve => setTimeout(resolve, 1000));
            
            // Ù†Ø·Ù‚ Ø¨Ù…Ù‚Ø§Ø·Ø¹
            const syllables = word.english.split('').join(' '); // Ø¥Ø¶Ø§ÙØ© Ù…Ø³Ø§ÙØ§Øª Ø¨ÙŠÙ† Ø§Ù„Ø­Ø±ÙˆÙ
            await speakText(syllables, { rate: 0.5 });
            
            showNotification('ğŸ¤ Ø§Ø³ØªÙ…Ø¹ Ø¬ÙŠØ¯Ù‹Ø§ ÙˆØ­Ø§ÙˆÙ„ ØªÙ‚Ù„ÙŠØ¯ Ø§Ù„Ù†Ø·Ù‚');
        }

        // ØªØ¨Ø¯ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø·Ù‚
        function toggleSettings() {
            const settingsDiv = document.getElementById('speechSettings');
            settingsDiv.classList.toggle('active');
        }

        // ØªØºÙŠÙŠØ± Ø§Ù„ØµÙˆØª
        function changeVoice() {
            const voiceSelect = document.getElementById('voiceSelect');
            speechSettings.voice = voiceSelect.value === 'auto' ? null : parseInt(voiceSelect.value);
            showNotification('âœ… ØªÙ… ØªØºÙŠÙŠØ± ØµÙˆØª Ø§Ù„Ù†Ø·Ù‚');
        }

        // ØªØºÙŠÙŠØ± Ø§Ù„Ø³Ø±Ø¹Ø©
        function changeRate(value) {
            speechSettings.rate = parseFloat(value);
            document.getElementById('rateValue').textContent = value;
            showNotification(`âœ… Ø³Ø±Ø¹Ø© Ø§Ù„Ù†Ø·Ù‚: ${value}`);
        }

        // ØªØºÙŠÙŠØ± Ø§Ù„Ø§Ø±ØªÙØ§Ø¹
        function changePitch(value) {
            speechSettings.pitch = parseFloat(value);
            document.getElementById('pitchValue').textContent = value;
            showNotification(`âœ… Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„ØµÙˆØª: ${value}`);
        }

        // ØªØºÙŠÙŠØ± Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµÙˆØª
        function changeVolume(value) {
            speechSettings.volume = parseFloat(value);
            document.getElementById('volumeValue').textContent = `${Math.round(value * 100)}%`;
            showNotification(`âœ… Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµÙˆØª: ${Math.round(value * 100)}%`);
        }

        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù†Ø·Ù‚ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
        function toggleAutoSpeech() {
            speechSettings.autoSpeech = !speechSettings.autoSpeech;
            showNotification(speechSettings.autoSpeech ? 
                'âœ… ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù†Ø·Ù‚ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ' : 'âŒ ØªÙ… Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù†Ø·Ù‚ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ');
        }

        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù†Ø·Ù‚ (ÙˆØ¸ÙŠÙØ© ØªØ¬Ø±ÙŠØ¨ÙŠØ©)
        function startRecording() {
            if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {
                showNotification('âš ï¸ Ø¹Ø°Ø±Ù‹Ø§ØŒ Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØµÙˆØª');
                return;
            }

            const recordBtn = document.getElementById('recordBtn');
            const statusDiv = document.getElementById('recordingStatus');
            
            recordBtn.style.display = 'none';
            statusDiv.style.display = 'block';

            // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ (ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ø§Ø³ØªØ®Ø¯Ù… Web Speech API)
            setTimeout(() => {
                statusDiv.style.display = 'none';
                recordBtn.style.display = 'block';
                
                const word = vocabulary[currentWordIndex];
                const accuracy = Math.floor(Math.random() * 30) + 70; // Ø¯Ù‚Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© 70-100%
                
                showNotification(`ğŸ¤ Ø¯Ù‚Ø© Ù†Ø·Ù‚Ùƒ: ${accuracy}% - Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø©!`);
                points += Math.floor(accuracy / 10);
                updateProgress();
            }, 3000);
        }

        // Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
        function displayCurrentWord() {
            const word = vocabulary[currentWordIndex];
            
            // ØªØ­Ø¯ÙŠØ« Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
            document.getElementById('currentWord').textContent = word.english;
            document.getElementById('currentPronunciation').textContent = word.pronunciation;
            document.getElementById('currentType').textContent = word.type;
            document.getElementById('currentMeaning').textContent = word.meaning;
            
            // ØªØ­Ø¯ÙŠØ« ØµØ¹ÙˆØ¨Ø© Ø§Ù„ÙƒÙ„Ù…Ø©
            const difficultyText = {
                easy: 'Ø³Ù‡Ù„',
                medium: 'Ù…ØªÙˆØ³Ø·',
                hard: 'ØµØ¹Ø¨'
            };
            const difficultyElement = document.getElementById('currentDifficulty');
            difficultyElement.textContent = difficultyText[word.difficulty];
            difficultyElement.style.background = 
                word.difficulty === 'easy' ? '#4CAF50' : 
                word.difficulty === 'medium' ? '#FF9800' : '#f44336';
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ù…Ø«Ù„Ø©
            const examplesDiv = document.getElementById('currentExamples');
            examplesDiv.innerHTML = word.examples.map((example, index) => `
                <div class="example-item">
                    <div class="example-content">
                        <div class="example-english">${example.english}</div>
                        <div class="example-arabic">${example.arabic}</div>
                    </div>
                    <button class="example-speech-btn" onclick="speakExample(${index})" title="Ù†Ø·Ù‚ Ø§Ù„Ø¬Ù…Ù„Ø©">
                        <i class="fas fa-volume-up"></i>
                    </button>
                </div>
            `).join('');
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø±Ø§Ø¯ÙØ§Øª
            const synonymsDiv = document.getElementById('currentSynonyms');
            synonymsDiv.innerHTML = word.synonyms.map(synonym => `
                <span class="synonym-tag" onclick="searchSynonym('${synonym}')">
                    <i class="fas fa-volume-up" onclick="event.stopPropagation(); speakText('${synonym}')"></i>
                    ${synonym}
                </span>
            `).join('');
            
            // ØªØ­Ø¯ÙŠØ« ØªÙ…Ø§Ø±ÙŠÙ† ÙˆØ¶Ø¹ Ø§Ù„ØªÙ…Ø±ÙŠÙ†
            updatePracticeExercises(word);
            
            // Ø§Ù„Ù†Ø·Ù‚ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙØ¹Ù„Ù‹Ø§
            if (speechSettings.autoSpeech) {
                setTimeout(() => speakCurrentWord(), 500);
            }
        }

        // Ù†Ø·Ù‚ Ù…Ø«Ø§Ù„ Ù…Ø­Ø¯Ø¯
        async function speakExample(exampleIndex) {
            const word = vocabulary[currentWordIndex];
            const example = word.examples[exampleIndex];
            await speakText(example.speech);
        }

        // ØªØ­Ø¯ÙŠØ« ØªÙ…Ø§Ø±ÙŠÙ† ÙˆØ¶Ø¹ Ø§Ù„ØªÙ…Ø±ÙŠÙ†
        function updatePracticeExercises(word) {
            // Ø§Ù„ØªÙ…Ø±ÙŠÙ† Ø§Ù„Ø£ÙˆÙ„: Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø¹Ù†Ù‰
            document.getElementById('questionWord').textContent = word.english;
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø®ÙŠØ§Ø±Ø§Øª Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ù„Ù„Ù…Ø¹Ù†Ù‰
            const allMeanings = vocabulary.map(w => w.meaning);
            const wrongMeanings = allMeanings
                .filter(m => m !== word.meaning)
                .sort(() => Math.random() - 0.5)
                .slice(0, 3);
            
            const options = [word.meaning, ...wrongMeanings]
                .sort(() => Math.random() - 0.5);
            
            const options1Div = document.getElementById('options1');
            options1Div.innerHTML = options.map((option, index) => `
                <div class="option" onclick="checkMeaningAnswer(this, '${option}', '${word.meaning}')">
                    ${option}
                    <button class="option-speech-btn" onclick="event.stopPropagation(); speakText('${word.english} means ${option.split(' ').slice(0, 5).join(' ')}...')">
                        <i class="fas fa-volume-up"></i>
                    </button>
                </div>
            `).join('');
            
            // Ø§Ù„ØªÙ…Ø±ÙŠÙ† Ø§Ù„Ø«Ø§Ù†ÙŠ: Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©
            const sentenceOptions = vocabulary
                .filter(w => w.id !== word.id)
                .sort(() => Math.random() - 0.5)
                .slice(0, 3)
                .map(w => w.english);
            
            const sentenceOptionsAll = [word.english, ...sentenceOptions]
                .sort(() => Math.random() - 0.5);
            
            const options2Div = document.getElementById('options2');
            options2Div.innerHTML = sentenceOptionsAll.map(option => `
                <div class="option" onclick="checkWordAnswer(this, '${option}', '${word.english}')">
                    ${option}
                    <button class="option-speech-btn" onclick="event.stopPropagation(); speakText('${option}')">
                        <i class="fas fa-volume-up"></i>
                    </button>
                </div>
            `).join('');
            
            // Ø§Ù„ØªÙ…Ø±ÙŠÙ† Ø§Ù„Ø«Ø§Ù„Ø«: ØªÙ…Ø±ÙŠÙ† Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹
            if (word.listeningExercise) {
                const options3Div = document.getElementById('options3');
                options3Div.innerHTML = word.listeningExercise.options.map(option => `
                    <div class="option" onclick="checkListeningAnswer(this, ${option.correct})">
                        ${option.text}
                    </div>
                `).join('');
            }
        }

        // Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©
        function showNextWord() {
            currentWordIndex = (currentWordIndex + 1) % vocabulary.length;
            displayCurrentWord();
            resetPracticeFeedback();
        }

        // Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
        function showPreviousWord() {
            currentWordIndex = (currentWordIndex - 1 + vocabulary.length) % vocabulary.length;
            displayCurrentWord();
            resetPracticeFeedback();
        }

        // ØªØ¹Ù„ÙŠÙ… Ø§Ù„ÙƒÙ„Ù…Ø© ÙƒÙ…ÙƒØªØ³Ø¨Ø©
        function markAsLearned() {
            const word = vocabulary[currentWordIndex];
            if (!word.learned) {
                word.learned = true;
                word.lastReviewed = new Date();
                learnedWords++;
                points += 10;
                
                updateProgress();
                updateVocabList();
                showNotification('ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ! Ù„Ù‚Ø¯ ØªØ¹Ù„Ù…Øª ÙƒÙ„Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©! +10 Ù†Ù‚Ø§Ø·');
                
                // Ù†Ø·Ù‚ Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªÙ‡Ù†Ø¦Ø©
                speakText("Excellent! You have learned a new word!");
            }
        }

        // ØªØ¨Ø¯ÙŠÙ„ ÙˆØ¶Ø¹ Ø§Ù„ØªÙ…Ø±ÙŠÙ†
        function togglePracticeMode() {
            practiceMode = !practiceMode;
            const practiceSection = document.getElementById('practiceSection');
            practiceSection.style.display = practiceMode ? 'block' : 'none';
            
            if (practiceMode) {
                showNotification('ğŸ§  Ø¨Ø¯Ø£Øª ÙˆØ¶Ø¹ Ø§Ù„ØªÙ…Ø±ÙŠÙ†! ØªØ¯Ø±Ø¨ Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©');
                speakText("Practice mode activated. Let's practice the current word.");
            }
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ù…Ø¹Ù†Ù‰
        async function checkMeaningAnswer(element, selectedAnswer, correctAnswer) {
            totalAnswers++;
            const isCorrect = selectedAnswer === correctAnswer;
            
            if (isCorrect) {
                correctAnswers++;
                element.classList.add('correct');
                showFeedback('feedback1', 'âœ… Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! Ø£Ø­Ø³Ù†Øª!', 'correct');
                points += 5;
                
                // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„ÙƒÙ„Ù…Ø©
                vocabulary[currentWordIndex].reviewCount++;
                vocabulary[currentWordIndex].lastReviewed = new Date();
                
                // Ù†Ø·Ù‚ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­
                await speakText("Correct! Well done!");
            } else {
                element.classList.add('wrong');
                showFeedback('feedback1', 'âŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰. Ø§Ù„Ø¬ÙˆØ§Ø¨ Ø§Ù„ØµØ­ÙŠØ­: ' + correctAnswer, 'wrong');
                
                // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©
                document.querySelectorAll('#options1 .option').forEach(opt => {
                    if (opt.textContent === correctAnswer) {
                        opt.classList.add('correct');
                    }
                });
                
                // Ù†Ø·Ù‚ Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØµØ­ÙŠØ­
                await speakText("Not quite right. The correct meaning is...");
            }
            
            updateProgress();
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ø¬Ø§Ø¨Ø© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙƒÙ„Ù…Ø©
        async function checkWordAnswer(element, selectedWord, correctWord) {
            totalAnswers++;
            const isCorrect = selectedWord === correctWord;
            
            if (isCorrect) {
                correctAnswers++;
                element.classList.add('correct');
                showFeedback('feedback2', 'âœ… Ù…Ù…ØªØ§Ø²! Ù‡Ø°Ù‡ Ù‡ÙŠ Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©', 'correct');
                points += 5;
                await speakText("Perfect! That's the right word!");
            } else {
                element.classList.add('wrong');
                showFeedback('feedback2', 'âŒ ØºÙŠØ± ØµØ­ÙŠØ­. Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù‡ÙŠ: ' + correctWord, 'wrong');
                
                document.querySelectorAll('#options2 .option').forEach(opt => {
                    if (opt.textContent === correctWord) {
                        opt.classList.add('correct');
                    }
                });
                
                await speakText("Incorrect. The right word is " + correctWord);
            }
            
            updateProgress();
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ø¬Ø§Ø¨Ø© ØªÙ…Ø±ÙŠÙ† Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹
        async function checkListeningAnswer(element, isCorrect) {
            totalAnswers++;
            
            if (isCorrect) {
                correctAnswers++;
                element.classList.add('correct');
                showFeedback('feedback3', 'âœ… Ø±Ø§Ø¦Ø¹! ÙÙ‡Ù…Øª Ø§Ù„Ø¬Ù…Ù„Ø© Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­! +10 Ù†Ù‚Ø§Ø·', 'correct');
                points += 10;
                await speakText("Excellent listening skills!");
            } else {
                element.classList.add('wrong');
                showFeedback('feedback3', 'âŒ Ø­Ø§ÙˆÙ„ Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰', 'wrong');
                await speakText("Try listening again carefully.");
            }
            
            updateProgress();
        }

        // Ø¥Ø¸Ù‡Ø§Ø± ØªØºØ°ÙŠØ© Ø±Ø§Ø¬Ø¹Ø©
        function showFeedback(elementId, message, type) {
            const feedbackDiv = document.getElementById(elementId);
            feedbackDiv.textContent = message;
            feedbackDiv.className = `feedback ${type}`;
            feedbackDiv.style.display = 'flex';
        }

        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØºØ°ÙŠØ© Ø§Ù„Ø±Ø§Ø¬Ø¹Ø©
        function resetPracticeFeedback() {
            ['feedback1', 'feedback2', 'feedback3'].forEach(id => {
                const div = document.getElementById(id);
                div.style.display = 'none';
                div.textContent = '';
            });
            
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
            document.querySelectorAll('.option').forEach(el => {
                el.classList.remove('correct', 'wrong', 'selected');
            });
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ‚Ø¯Ù… ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
        function updateProgress() {
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
            document.getElementById('learnedWords').textContent = learnedWords;
            document.getElementById('streakDays').textContent = streakDays;
            document.getElementById('points').textContent = points;
            document.getElementById('speechCount').textContent = speechCount;
            
            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¯Ù‚Ø©
            const accuracy = totalAnswers > 0 ? Math.round((correctAnswers / totalAnswers) * 100) : 0;
            document.getElementById('accuracy').textContent = accuracy + '%';
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¹Ø§Ù…Ø©
            document.getElementById('totalWords').textContent = vocabulary.length;
            document.getElementById('level').textContent = Math.floor(points / 100) + 1;
            
            // Ø­ÙØ¸ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙÙŠ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ
            saveStats();
        }

        // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙØ±Ø¯Ø§Øª
        function updateVocabList(filter = 'all') {
            const vocabListDiv = document.getElementById('vocabList');
            let filteredWords = vocabulary;
            
            if (filter === 'learned') {
                filteredWords = vocabulary.filter(w => w.learned);
            } else if (filter === 'review') {
                filteredWords = vocabulary.filter(w => w.learned && w.reviewCount < 3);
            } else if (filter === 'new') {
                filteredWords = vocabulary.filter(w => !w.learned);
            }
            
            vocabListDiv.innerHTML = filteredWords.map(word => {
                const statusClass = word.learned ? 
                    (word.reviewCount >= 3 ? 'learned' : 'review') : 'new';
                
                return `
                    <div class="vocab-item ${statusClass}" onclick="selectWord(${word.id})">
                        <button class="item-speech-btn" onclick="event.stopPropagation(); speakText('${word.english}')">
                            <i class="fas fa-volume-up"></i>
                        </button>
                        <div class="item-header">
                            <div class="item-english">${word.english}</div>
                            <span class="word-type">${word.type}</span>
                        </div>
                        <div class="item-arabic">${word.arabic}</div>
                        <div class="item-stats">
                            <span class="stat">${word.difficulty === 'easy' ? 'Ø³Ù‡Ù„' : 
                                               word.difficulty === 'medium' ? 'Ù…ØªÙˆØ³Ø·' : 'ØµØ¹Ø¨'}</span>
                            ${word.learned ? `<span class="stat">Ù…Ø±Ø§Ø¬Ø¹Ø§Øª: ${word.reviewCount}</span>` : ''}
                            ${word.learned ? `<span class="stat">Ù…ÙƒØªØ³Ø¨Ø©</span>` : ''}
                        </div>
                    </div>
                `;
            }).join('');
        }

        // ØªØµÙÙŠØ© Ø§Ù„ÙƒÙ„Ù…Ø§Øª
        function filterWords(filterType) {
            updateVocabList(filterType);
        }

        // Ø§Ø®ØªÙŠØ§Ø± ÙƒÙ„Ù…Ø© Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
        function selectWord(wordId) {
            const index = vocabulary.findIndex(w => w.id === wordId);
            if (index !== -1) {
                currentWordIndex = index;
                displayCurrentWord();
                resetPracticeFeedback();
                
                // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ø£Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø©
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù…Ø±Ø§Ø¯Ù
        function searchSynonym(synonym) {
            // ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø±Ø§Ø¯ÙØ§Øª
            showNotification(`ğŸ” Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† ÙƒÙ„Ù…Ø©: ${synonym}`);
            speakText(synonym);
        }

        // Ø¥Ø¸Ù‡Ø§Ø± ØªÙ†Ø¨ÙŠÙ‡
        function showNotification(message) {
            const notificationDiv = document.getElementById('notification');
            notificationDiv.innerHTML = `
                <i class="fas fa-bell"></i>
                ${message}
            `;
            notificationDiv.style.display = 'flex';
            
            setTimeout(() => {
                notificationDiv.style.display = 'none';
            }, 3000);
        }

        // ØªÙ†Ø¨ÙŠÙ‡ ÙŠÙˆÙ…ÙŠ
        function showDailyNotification() {
            const hour = new Date().getHours();
            if (hour >= 9 && hour <= 21) {
                setTimeout(() => {
                    showNotification('ğŸ“š ÙˆÙ‚Øª Ø±Ø§Ø¦Ø¹ Ù„Ù„ØªØ¹Ù„Ù…! Ø§Ø³ØªÙ…Ø¹ Ù„Ù„Ù†Ø·Ù‚ ÙˆØ­Ø§ÙˆÙ„ ØªÙ‚Ù„ÙŠØ¯Ù‡');
                    if (speechSettings.autoSpeech) {
                        speakText("Great time for learning! Listen and repeat after me.");
                    }
                }, 2000);
            }
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ
        function loadStats() {
            const savedStats = localStorage.getItem('vocabStats');
            if (savedStats) {
                const stats = JSON.parse(savedStats);
                points = stats.points || 0;
                learnedWords = stats.learnedWords || 0;
                streakDays = stats.streakDays || 1;
                correctAnswers = stats.correctAnswers || 0;
                totalAnswers = stats.totalAnswers || 0;
                speechCount = stats.speechCount || 0;
                
                // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© ØªØ¹Ù„Ù… Ø§Ù„ÙƒÙ„Ù…Ø§Øª
                const savedWords = localStorage.getItem('learnedWords');
                if (savedWords) {
                    const learnedIds = JSON.parse(savedWords);
                    vocabulary.forEach(word => {
                        word.learned = learnedIds.includes(word.id);
                    });
                    learnedWords = learnedIds.length;
                }
            }
            
            // ØªØ­Ù…ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø·Ù‚
            const savedSettings = localStorage.getItem('speechSettings');
            if (savedSettings) {
                speechSettings = JSON.parse(savedSettings);
                document.getElementById('rateSlider').value = speechSettings.rate;
                document.getElementById('pitchSlider').value = speechSettings.pitch;
                document.getElementById('volumeSlider').value = speechSettings.volume;
                document.getElementById('autoSpeech').checked = speechSettings.autoSpeech;
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶Ø©
                changeRate(speechSettings.rate);
                changePitch(speechSettings.pitch);
                changeVolume(speechSettings.volume);
            }
        }

        // Ø­ÙØ¸ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙÙŠ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ
        function saveStats() {
            const stats = {
                points,
                learnedWords,
                streakDays,
                correctAnswers,
                totalAnswers,
                speechCount,
                lastUpdated: new Date().toISOString()
            };
            localStorage.setItem('vocabStats', JSON.stringify(stats));
            
            // Ø­ÙØ¸ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙƒØªØ³Ø¨Ø©
            const learnedIds = vocabulary.filter(w => w.learned).map(w => w.id);
            localStorage.setItem('learnedWords', JSON.stringify(learnedIds));
            
            // Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø·Ù‚
            localStorage.setItem('speechSettings', JSON.stringify(speechSettings));
        }

        // ØªØ­Ø¯ÙŠØ« ÙˆÙ‚Øª Ø§Ù„Ø¯Ø±Ø§Ø³Ø©
        function updateStudyTime() {
            let studyTime = localStorage.getItem('dailyStudyTime') || 0;
            studyTime = parseInt(studyTime) + 1;
            localStorage.setItem('dailyStudyTime', studyTime);
            document.getElementById('studyTime').textContent = studyTime;
        }

        // ØªØ­Ø¯ÙŠØ« ÙˆÙ‚Øª Ø§Ù„Ø¯Ø±Ø§Ø³Ø© ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø©
        setInterval(updateStudyTime, 60000);
    </script>
</body>
</html>