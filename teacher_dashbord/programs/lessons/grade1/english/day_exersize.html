<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Learn Days of the Week - Exercise</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --bg-color: #fcebeb; 
            --primary-color: #ff6b81; 
            --correct-color: #55efc4;
            --wrong-color: #ff4757;
            --text-color: #2d3436;
        }

        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            font-family: 'Quicksand', sans-serif;
            touch-action: manipulation;
        }

        body {
            background-color: var(--bg-color);
            margin: 0;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            padding-bottom: 120px;
        }

        h1 {
            font-family: 'Fredoka One', cursive;
            color: var(--primary-color);
            font-size: 26px;
            margin-top: 15px;
            margin-bottom: 25px;
            text-align: center;
            background: white;
            padding: 10px 20px;
            border-radius: 50px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }

        .exercise-area {
            width: 100%;
            max-width: 450px;
            background: white;
            border-radius: 30px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            border: 4px dashed var(--primary-color);
            margin-bottom: 25px;
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª Ù…Ø¹ Ø²Ø± Ø§Ù„ØµÙˆØª */
        .instruction-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .instruction {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-color);
            margin: 0;
        }

        .repeat-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 8px rgba(255, 107, 129, 0.3);
            transition: transform 0.2s;
        }

        .repeat-btn:active { transform: scale(0.9); }

        .target-day {
            min-height: 70px;
            width: 100%;
            background: #f0f0f0;
            border: 3px dashed #ccc;
            border-radius: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            font-weight: 900;
            color: #777;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .target-day.drag-over { background-color: #e0f2f7; border-color: #a2d2ff; }
        .target-day.correct-drop { background-color: var(--correct-color); border-color: #2eaf7e; color: white; }
        .target-day.incorrect-drop { background-color: var(--wrong-color); border-color: #c93545; color: white; }

        .draggable-options {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }

        .draggable-item {
            background: #ffeaa7;
            color: var(--text-color);
            padding: 15px 20px;
            border-radius: 25px;
            font-size: 20px;
            font-weight: bold;
            cursor: grab;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: transform 0.2s;
            border: 2px solid #fdcb6e;
        }

        .feedback-message { font-size: 22px; font-weight: bold; min-height: 30px; margin-top: 20px; }
        .feedback-message.correct { color: var(--correct-color); animation: bounce 0.5s; }
        .feedback-message.wrong { color: var(--wrong-color); animation: shake 0.5s; }

        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 20%, 60% { transform: translateX(-5px); } 40%, 80% { transform: translateX(5px); } }

        .nav-bar {
            position: fixed; bottom: 0; left: 0; right: 0;
            display: flex; gap: 10px; padding: 15px;
            background: white; box-shadow: 0 -5px 15px rgba(0,0,0,0.05);
            border-radius: 25px 25px 0 0; z-index: 1000;
        }

        .nav-btn {
            flex: 1; padding: 12px; border-radius: 15px;
            text-decoration: none; text-align: center; font-weight: bold;
            display: flex; align-items: center; justify-content: center; gap: 8px; font-size: 14px;
        }

        .home-btn { background: #f1f2f6; color: #2d3436; }
        .alpha-btn { background: #a29bfe; color: white; }
    </style>
</head>
<body>

    <h1>Drag & Drop the Days!</h1>

    <div class="exercise-area">
        <div class="instruction-container">
            <p class="instruction" id="instruction">Drag 'Saturday' to its box!</p>
            <button class="repeat-btn" onclick="repeatInstruction()">
                <i class="fas fa-volume-up"></i>
            </button>
        </div>

        <div class="target-day" id="targetBox" ondragover="event.preventDefault();" ondrop="drop(event)" ondragleave="dragLeave(event)">
            <span id="targetDayText">Drag day here</span>
        </div>

        <div class="draggable-options" id="draggableOptions"></div>

        <p class="feedback-message" id="feedbackMessage"></p>
    </div>

    <div class="nav-bar">
        <a href="../../../../../teacher_dashbord/english_dashboard.html" class="nav-btn home-btn">
            <i class="fas fa-home"></i> Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        </a>
        <a href="days.html" class="nav-btn alpha-btn">
            <i class="fas fa-font"></i>  Ø¯Ø±Ø³ Ø§ÙŠØ§Ù… Ø§Ù„Ø§Ø³Ø¨ÙˆØ¹
        </a>
    </div>

    <audio id="applauseSound" src="https://www.soundjay.com/human/sounds/applause-01.mp3" preload="auto"></audio>
    <audio id="wrongSound" src="https://www.soundjay.com/buttons/sounds/button-10.mp3" preload="auto"></audio>

    <script>

document.body.addEventListener('touchstart', function() {
    // ØªØ´ØºÙŠÙ„ Ù†Ø·Ù‚ ÙØ§Ø±Øº Ù„Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© Ù„ÙÙƒ Ø­Ø¸Ø± Ø§Ù„Ù…ØªØµÙØ­
    const silent = new SpeechSynthesisUtterance('');
    window.speechSynthesis.speak(silent);
}, { once: true });


        const days = [
            {en: 'Saturday'}, {en: 'Sunday'}, {en: 'Monday'}, 
            {en: 'Tuesday'}, {en: 'Wednesday'}, {en: 'Thursday'}, {en: 'Friday'}
        ];

        let currentTargetDay = '';
        const targetBox = document.getElementById('targetBox');
        const instruction = document.getElementById('instruction');
        const feedbackMessage = document.getElementById('feedbackMessage');
        const draggableOptionsContainer = document.getElementById('draggableOptions');

        function speak(text) {
            window.speechSynthesis.cancel();
            const msg = new SpeechSynthesisUtterance(text);
            msg.lang = 'en-US';
            msg.rate = 0.8;
            msg.pitch = 1.2;
            window.speechSynthesis.speak(msg);
        }

        function repeatInstruction() {
            speak(`Drag ${currentTargetDay} to its box!`);
        }

        function generateExercise() {
            const targetIndex = Math.floor(Math.random() * days.length);
            currentTargetDay = days[targetIndex].en;
            
            instruction.innerText = `Drag '${currentTargetDay}' to its box!`;
            repeatInstruction();
            
            targetBox.innerText = 'Drag day here';
            targetBox.classList.remove('correct-drop', 'incorrect-drop', 'drag-over');

            let shuffledDays = [...days].sort(() => Math.random() - 0.5);
            draggableOptionsContainer.innerHTML = '';
            
            shuffledDays.forEach(day => {
                const item = document.createElement('div');
                item.className = 'draggable-item';
                item.innerText = day.en;
                item.setAttribute('draggable', true);
                item.id = day.en;
                item.ondragstart = drag;
                item.ontouchstart = touchStart;
                item.ontouchmove = touchMove;
                item.ontouchend = touchEnd;
                draggableOptionsContainer.appendChild(item);
            });
            feedbackMessage.innerText = '';
        }

        // ØªØ­Ø³ÙŠÙ† Ù„Ø¶Ù…Ø§Ù† ØªÙØ¹ÙŠÙ„ Ø§Ù„ØµÙˆØª Ø¹Ù†Ø¯ Ø£ÙˆÙ„ Ù„Ù…Ø³Ø© Ù„Ù„Ø¬ÙˆØ§Ù„
        document.addEventListener('touchstart', () => {
            const s = new SpeechSynthesisUtterance("");
            window.speechSynthesis.speak(s);
        }, { once: true });

        // Ø¯ÙˆØ§Ù„ Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥Ø³Ù‚Ø§Ø· (Desktop)
        function drag(event) {
            event.dataTransfer.setData("text", event.target.id);
            targetBox.classList.add('drag-over');
        }

        function dragLeave(event) { targetBox.classList.remove('drag-over'); }

        function drop(event) {
            event.preventDefault();
            targetBox.classList.remove('drag-over');
            const data = event.dataTransfer.getData("text");
            handleDrop(data);
        }

        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø©
        function handleDrop(draggedId) {
            if (draggedId === currentTargetDay) {
                targetBox.classList.add('correct-drop');
                targetBox.innerText = currentTargetDay;
                feedbackMessage.innerText = 'Fantastic! âœ¨';
                feedbackMessage.className = 'feedback-message correct';
                speak('Fantastic!');
                document.getElementById('applauseSound').play();
                setTimeout(generateExercise, 2000);
            } else {
                targetBox.classList.add('incorrect-drop');
                feedbackMessage.innerText = 'Oops! Try again. ðŸ˜•';
                feedbackMessage.className = 'feedback-message wrong';
                speak('Oops! Try again.');
                document.getElementById('wrongSound').play();
                setTimeout(() => targetBox.classList.remove('incorrect-drop'), 1000);
            }
        }

        // Ø¯ÙˆØ§Ù„ Ø§Ù„Ù„Ù…Ø³ Ù„Ù„Ø¬ÙˆØ§Ù„ (Touch)
        let currentDraggedItem = null;
        function touchStart(event) {
            currentDraggedItem = event.target;
            currentDraggedItem.style.position = 'fixed';
            targetBox.classList.add('drag-over');
        }

        function touchMove(event) {
            if (!currentDraggedItem) return;
            event.preventDefault();
            const touch = event.touches[0];
            currentDraggedItem.style.left = (touch.clientX - 50) + 'px';
            currentDraggedItem.style.top = (touch.clientY - 25) + 'px';
        }

        function touchEnd(event) {
            if (!currentDraggedItem) return;
            const dropZoneRect = targetBox.getBoundingClientRect();
            const touch = event.changedTouches[0];
            
            if (touch.clientX > dropZoneRect.left && touch.clientX < dropZoneRect.right &&
                touch.clientY > dropZoneRect.top && touch.clientY < dropZoneRect.bottom) {
                handleDrop(currentDraggedItem.id);
            }
            
            currentDraggedItem.style.position = 'static';
            targetBox.classList.remove('drag-over');
            currentDraggedItem = null;
        }

        window.onload = generateExercise;
    </script>
</body>
</html>