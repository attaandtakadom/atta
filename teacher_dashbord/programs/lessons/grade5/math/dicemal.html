<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¯Ø±Ø³ Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ Ù„Ù„ÙƒØ³ÙˆØ± Ø§Ù„Ø¹Ø´Ø±ÙŠØ© - Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ§Øª */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… */
        .progress-container {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .progress-steps {
            display: flex;
            gap: 10px;
        }
        
        .step {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #666;
        }
        
        .step.completed {
            background: #4CAF50;
            color: white;
        }
        
        .step.active {
            background: #2196F3;
            color: white;
            border: 3px solid #1976D2;
        }
        
        /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
        .math-btn {
            background: #2196F3;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .math-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 8px rgba(0,0,0,0.15);
        }
        
        .math-btn-primary {
            background: linear-gradient(135deg, #6A89CC, #4A69BD);
            color: white;
        }
        
        .math-btn-success {
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
            color: white;
        }
        
        .math-btn-warning {
            background: linear-gradient(135deg, #FF9800, #F57C00);
            color: white;
        }
        
        /* Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¯Ø±Ø³ */
        .math-lesson {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .lesson-title {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #eee;
        }
        
        .lesson-title h1 {
            color: #2196F3;
            font-size: 32px;
            margin-bottom: 10px;
        }
        
        .lesson-title p {
            color: #666;
            font-size: 18px;
        }
        
        /* Ù‚Ø³Ù… Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ Ø§Ù„Ø¹Ø´Ø±ÙŠ */
        .decimal-section {
            background: linear-gradient(135deg, #6A89CC, #4A69BD);
            color: white;
            padding: 30px;
            border-radius: 20px;
            margin: 20px 0;
        }
        
        .decimal-section h2 {
            text-align: center;
            margin-bottom: 20px;
            font-size: 28px;
        }
        
        /* Ø§Ù„Ø­Ø§ÙˆÙŠØ§Øª */
        .decimal-container {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin: 30px 0;
        }
        
        .decimal-rules {
            background: #E8F5E9;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            border-right: 5px solid #4CAF50;
        }
        
        .rule-item {
            display: flex;
            align-items: center;
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .rule-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-left: 15px;
            flex-shrink: 0;
        }
        
        .tenth-icon {
            background: #4CAF50;
            color: white;
        }
        
        .hundredth-icon {
            background: #2196F3;
            color: white;
        }
        
        /* Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ© */
        .decimal-interactive {
            background: #FFF3E0;
            padding: 30px;
            border-radius: 20px;
            margin: 30px 0;
            border: 3px solid #FF9800;
        }
        
        .exercise-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .exercise-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s;
            border: 2px solid #E3F2FD;
        }
        
        .exercise-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }
        
        .decimal-display {
            font-size: 42px;
            font-weight: bold;
            color: #2196F3;
            margin: 20px 0;
            direction: ltr;
            font-family: 'Courier New', monospace;
        }
        
        /* Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© */
        .options-container {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .round-option {
            padding: 12px 20px;
            font-size: 16px;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            background: white;
            transition: all 0.3s;
            min-width: 100px;
            direction: ltr;
            font-family: 'Courier New', monospace;
        }
        
        .round-option:hover {
            background: #f5f5f5;
            transform: scale(1.05);
        }
        
        .correct-answer {
            animation: correctPulse 0.5s;
            background: #4CAF50 !important;
            color: white !important;
            border-color: #4CAF50 !important;
        }
        
        .wrong-answer {
            animation: wrongShake 0.5s;
            background: #F44336 !important;
            color: white !important;
            border-color: #F44336 !important;
        }
        
        @keyframes correctPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        @keyframes wrongShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        /* ØªØªØ¨Ø¹ Ø§Ù„ØªÙ‚Ø¯Ù… */
        .progress-tracking {
            background: linear-gradient(135deg, #FF9A9E, #FAD0C4);
            color: white;
            padding: 25px;
            border-radius: 20px;
            margin: 30px 0;
        }
        
        .progress-bar-container {
            background: rgba(255,255,255,0.2);
            height: 20px;
            border-radius: 10px;
            margin: 15px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: #4CAF50;
            border-radius: 10px;
            transition: width 0.5s ease-in-out;
        }
        
        .students-progress {
            background: #F5F5F5;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .student-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            transition: transform 0.2s;
        }
        
        .student-card:hover {
            transform: translateX(-5px);
        }
        
        /* Ø§Ù„Ù†Ø¬ÙˆÙ… */
        .star {
            font-size: 24px;
            color: #FFD700;
            margin: 0 2px;
        }
        
        .star.empty {
            color: #e0e0e0;
        }
        
        /* Ø§Ù„ØªØºØ°ÙŠØ© Ø§Ù„Ø±Ø§Ø¬Ø¹Ø© */
        .feedback-message {
            margin-top: 15px;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .feedback-correct {
            background: #E8F5E9;
            color: #2E7D32;
            border-right: 3px solid #4CAF50;
        }
        
        .feedback-wrong {
            background: #FFEBEE;
            color: #C62828;
            border-right: 3px solid #F44336;
        }
        
        /* Ù…Ø­Ø¯Ø¯ Ù…ÙƒØ§Ù† Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ */
        .decimal-place-selector {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }
        
        .place-btn {
            padding: 10px 20px;
            border: 2px solid #2196F3;
            background: white;
            color: #2196F3;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .place-btn.active {
            background: #2196F3;
            color: white;
        }
        
        .place-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(33, 150, 243, 0.2);
        }
        
        .place-label {
            display: inline-block;
            padding: 2px 8px;
            background: #FF9800;
            color: white;
            border-radius: 4px;
            font-size: 12px;
            margin: 0 5px;
            font-weight: bold;
        }
        
        /* Ø§Ù„Ø´Ø±ÙˆØ­Ø§Øª */
        .decimal-explanation {
            background: #F0F7FF;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #2196F3;
        }
        
        .example-box {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .example-number {
            font-family: 'Courier New', monospace;
            font-size: 20px;
            font-weight: bold;
            color: #333;
            direction: ltr;
            text-align: center;
        }
        
        .example-arrow {
            text-align: center;
            font-size: 24px;
            color: #666;
            margin: 5px 0;
        }
        
        /* Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª */
        .hint-box {
            background: #FFF9C4;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border-right: 4px solid #FFC107;
        }
        
        /* Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© */
        .final-results {
            animation: slideIn 0.5s ease-out;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Ø§Ù„ØªØ¬Ø§ÙˆØ¨ */
        @media (max-width: 768px) {
            .progress-container {
                flex-direction: column;
                gap: 15px;
            }
            
            .decimal-place-selector {
                flex-direction: column;
                align-items: center;
            }
            
            .exercise-grid {
                grid-template-columns: 1fr;
            }
            
            .math-btn {
                width: 100%;
                margin: 5px 0;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… -->
    <div class="progress-container">
        <div class="progress-steps">
            <div class="step completed"><i class="fas fa-check"></i></div>
            <div class="step completed"><i class="fas fa-check"></i></div>
            <div class="step active">3</div>
            <div class="step">4</div>
            <div class="step">5</div>
        </div>
        <div style="color: #6A89CC; font-weight: bold;">
            <i class="fas fa-calculator"></i> Ø§Ù„Ø¯Ø±Ø³: ØªÙ‚Ø±ÙŠØ¨ Ø§Ù„ÙƒØ³ÙˆØ± Ø§Ù„Ø¹Ø´Ø±ÙŠØ©
        </div>
        <button onclick="window.location.href='../../../../math_dashboard.html'" class="math-btn" style="padding: 8px 20px; font-size: 14px;">
            <i class="fas fa-home"></i> Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        </button>
    </div>

    <div class="container">
        <div class="math-lesson">
            <!-- Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¯Ø±Ø³ -->
            <div class="lesson-title">
                <h1><i class="fas fa-bullseye"></i> Ø¯Ø±Ø³ ØªÙ‚Ø±ÙŠØ¨ Ø§Ù„ÙƒØ³ÙˆØ± Ø§Ù„Ø¹Ø´Ø±ÙŠØ©</h1>
                <p>ØªØ¹Ù„Ù… ÙƒÙŠÙ ØªÙ‚Ø±Ø¨ Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¹Ø´Ø±ÙŠØ© Ù„Ø£Ù‚Ø±Ø¨ Ø¬Ø²Ø¡ Ù…Ù† Ø¹Ø´Ø±Ø© Ø£Ùˆ Ø¬Ø²Ø¡ Ù…Ù† Ù…Ø§Ø¦Ø©</p>
            </div>

            <!-- Ù…Ù‚Ø¯Ù…Ø© Ø§Ù„Ø¯Ø±Ø³ -->
            <div class="decimal-section">
                <h2><i class="fas fa-info-circle"></i> Ù…Ø§ Ù‡Ùˆ ØªÙ‚Ø±ÙŠØ¨ Ø§Ù„ÙƒØ³ÙˆØ± Ø§Ù„Ø¹Ø´Ø±ÙŠØ©ØŸ</h2>
                <p>ØªÙ‚Ø±ÙŠØ¨ Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ø´Ø±ÙŠ ÙŠØ¹Ù†ÙŠ Ø¬Ø¹Ù„Ù‡ Ø£Ù‚Ø±Ø¨ Ø¥Ù„Ù‰ Ø¹Ø¯Ø¯ ØµØ­ÙŠØ­ Ø£Ùˆ ÙƒØ³Ø± Ø¹Ø´Ø±ÙŠ Ø£Ø¨Ø³Ø·ØŒ Ù„ØªØ³Ù‡ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</p>
                <div style="text-align: center; margin: 30px 0;">
                    <div style="display: inline-block; padding: 20px; background: rgba(255,255,255,0.2); border-radius: 15px;">
                        <div style="font-size: 24px; margin-bottom: 10px;">Ù…Ø«Ø§Ù„ Ø³Ø±ÙŠØ¹:</div>
                        <div style="font-size: 36px; font-weight: bold;">
                            <span style="color: #FF9800;">3.46</span> â† <span style="color: #4CAF50;">3.5</span>
                        </div>
                        <div style="font-size: 18px; margin-top: 10px;">
                            (ØªÙ‚Ø±ÙŠØ¨ Ù„Ø£Ù‚Ø±Ø¨ Ø¬Ø²Ø¡ Ù…Ù† Ø¹Ø´Ø±Ø©)
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ø§Ø®ØªÙŠØ§Ø± Ù…ÙƒØ§Ù† Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ -->
            <div class="decimal-container">
                <h3 style="color: #2196F3;"><i class="fas fa-sliders-h"></i> Ø§Ø®ØªØ± Ù…ÙƒØ§Ù† Ø§Ù„ØªÙ‚Ø±ÙŠØ¨</h3>
                <p>Ø§Ø®ØªØ± Ù…Ø§ Ø¥Ø°Ø§ ÙƒÙ†Øª ØªØ±ÙŠØ¯ Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ Ù„Ø£Ù‚Ø±Ø¨ Ø¬Ø²Ø¡ Ù…Ù† Ø¹Ø´Ø±Ø© (Ù…Ù†Ø²Ù„Ø© Ø¹Ø´Ø±ÙŠØ© ÙˆØ§Ø­Ø¯Ø©) Ø£Ùˆ Ø¬Ø²Ø¡ Ù…Ù† Ù…Ø§Ø¦Ø© (Ù…Ù†Ø²Ù„ØªÙŠÙ† Ø¹Ø´Ø±ÙŠØªÙŠÙ†)</p>
                <div class="decimal-place-selector">
                    <button class="place-btn active" onclick="setRoundingPlace('tenth')" id="tenthBtn">
                        <i class="fas fa-arrow-right"></i> ØªÙ‚Ø±ÙŠØ¨ Ù„Ø£Ù‚Ø±Ø¨ Ø¬Ø²Ø¡ Ù…Ù† Ø¹Ø´Ø±Ø©
                        <span class="place-label">Ù…Ù†Ø²Ù„Ø© Ø¹Ø´Ø±ÙŠØ© ÙˆØ§Ø­Ø¯Ø©</span>
                    </button>
                    <button class="place-btn" onclick="setRoundingPlace('hundredth')" id="hundredthBtn">
                        <i class="fas fa-arrow-right"></i> ØªÙ‚Ø±ÙŠØ¨ Ù„Ø£Ù‚Ø±Ø¨ Ø¬Ø²Ø¡ Ù…Ù† Ù…Ø§Ø¦Ø©
                        <span class="place-label">Ù…Ù†Ø²Ù„ØªÙŠÙ† Ø¹Ø´Ø±ÙŠØªÙŠÙ†</span>
                    </button>
                </div>
                <div id="placeExplanation" class="decimal-explanation">
                    <h4><i class="fas fa-lightbulb"></i> Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ Ù„Ø£Ù‚Ø±Ø¨ Ø¬Ø²Ø¡ Ù…Ù† Ø¹Ø´Ø±Ø©</h4>
                    <p>Ù†Ù†Ø¸Ø± Ø¥Ù„Ù‰ Ø§Ù„Ù…Ù†Ø²Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ø¨Ø¹Ø¯ Ø§Ù„ÙØ§ØµÙ„Ø© (Ø§Ù„Ø£Ø¬Ø²Ø§Ø¡ Ù…Ù† Ù…Ø§Ø¦Ø©) Ù„ØªØ­Ø¯ÙŠØ¯ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ¨:</p>
                    <div class="example-box">
                        <div class="example-number">3.4<span style="color: #FF9800;">6</span></div>
                        <div class="example-arrow">â†“</div>
                        <div class="example-number" style="color: #4CAF50;">3.5</div>
                        <div style="color: #666; font-size: 14px; margin-top: 5px;">
                            Ù„Ø£Ù† 6 â‰¥ 5ØŒ Ù†Ø²ÙŠØ¯ Ø§Ù„Ø¹Ø¯Ø¯ ÙÙŠ Ù…Ù†Ø²Ù„Ø© Ø§Ù„Ø£Ø¬Ø²Ø§Ø¡ Ù…Ù† Ø¹Ø´Ø±Ø©
                        </div>
                    </div>
                    <div class="example-box">
                        <div class="example-number">7.8<span style="color: #FF9800;">2</span></div>
                        <div class="example-arrow">â†“</div>
                        <div class="example-number" style="color: #4CAF50;">7.8</div>
                        <div style="color: #666; font-size: 14px; margin-top: 5px;">
                            Ù„Ø£Ù† 2 < 5ØŒ Ù†Ø­ØªÙØ¸ Ø¨Ù†ÙØ³ Ø§Ù„Ø¹Ø¯Ø¯ ÙÙŠ Ù…Ù†Ø²Ù„Ø© Ø§Ù„Ø£Ø¬Ø²Ø§Ø¡ Ù…Ù† Ø¹Ø´Ø±Ø©
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ -->
            <div class="decimal-rules">
                <h3 style="color: #2196F3;"><i class="fas fa-graduation-cap"></i> Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ Ù„Ù„ÙƒØ³ÙˆØ± Ø§Ù„Ø¹Ø´Ø±ÙŠØ©</h3>
                <div class="rule-item">
                    <div class="rule-icon tenth-icon">
                        <i class="fas fa-arrow-up"></i>
                    </div>
                    <div>
                        <h4 style="color: #4CAF50; margin: 0;">Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ Ù„Ø£Ø¹Ù„Ù‰</h4>
                        <p style="margin: 5px 0;">Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø±Ù‚Ù… Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ù†Ø²Ù„Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© 5ØŒ 6ØŒ 7ØŒ 8ØŒ Ø£Ùˆ 9 â† Ù†Ø²ÙŠØ¯ Ø§Ù„Ø±Ù‚Ù… ÙÙŠ Ø§Ù„Ù…Ù†Ø²Ù„Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ø¨Ù…Ù‚Ø¯Ø§Ø± 1</p>
                        <div style="font-size: 18px; font-weight: bold; color: #4CAF50; direction: ltr;">
                            Ù…Ø«Ø§Ù„: 2.47 â†’ 2.5 (Ù„Ù„ØªÙ‚Ø±ÙŠØ¨ Ù„Ø£Ù‚Ø±Ø¨ Ø¬Ø²Ø¡ Ù…Ù† Ø¹Ø´Ø±Ø©)
                        </div>
                    </div>
                </div>
                <div class="rule-item">
                    <div class="rule-icon hundredth-icon">
                        <i class="fas fa-arrow-down"></i>
                    </div>
                    <div>
                        <h4 style="color: #2196F3; margin: 0;">Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ Ù„Ø£Ù‚Ù„</h4>
                        <p style="margin: 5px 0;">Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø±Ù‚Ù… Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ù†Ø²Ù„Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© 0ØŒ 1ØŒ 2ØŒ 3ØŒ Ø£Ùˆ 4 â† Ù†Ø­ØªÙØ¸ Ø¨Ù†ÙØ³ Ø§Ù„Ø±Ù‚Ù… ÙÙŠ Ø§Ù„Ù…Ù†Ø²Ù„Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</p>
                        <div style="font-size: 18px; font-weight: bold; color: #2196F3; direction: ltr;">
                            Ù…Ø«Ø§Ù„: 5.832 â†’ 5.83 (Ù„Ù„ØªÙ‚Ø±ÙŠØ¨ Ù„Ø£Ù‚Ø±Ø¨ Ø¬Ø²Ø¡ Ù…Ù† Ù…Ø§Ø¦Ø©)
                        </div>
                    </div>
                </div>
            </div>

            <!-- ØªÙ„Ù…ÙŠØ­Ø§Øª Ù…Ù‡Ù…Ø© -->
            <div class="hint-box">
                <h4><i class="fas fa-exclamation-circle"></i> ØªÙ„Ù…ÙŠØ­Ø§Øª Ù…Ù‡Ù…Ø©:</h4>
                <ul style="margin: 10px 0; padding-right: 20px;">
                    <li>ØªØ£ÙƒØ¯ Ù…Ù† ÙƒØªØ§Ø¨Ø© Ø§Ù„ÙØ§ØµÙ„Ø© Ø§Ù„Ø¹Ø´Ø±ÙŠØ© (.) ÙˆÙ„ÙŠØ³ Ø§Ù„ÙØ§ØµÙ„Ø© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (ØŒ)</li>
                    <li>Ù„Ù„ØªÙ‚Ø±ÙŠØ¨ Ù„Ø£Ù‚Ø±Ø¨ Ø¬Ø²Ø¡ Ù…Ù† Ø¹Ø´Ø±Ø©ØŒ Ø§Ù†Ø¸Ø± Ø¥Ù„Ù‰ Ø§Ù„Ù…Ù†Ø²Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ø¨Ø¹Ø¯ Ø§Ù„ÙØ§ØµÙ„Ø©</li>
                    <li>Ù„Ù„ØªÙ‚Ø±ÙŠØ¨ Ù„Ø£Ù‚Ø±Ø¨ Ø¬Ø²Ø¡ Ù…Ù† Ù…Ø§Ø¦Ø©ØŒ Ø§Ù†Ø¸Ø± Ø¥Ù„Ù‰ Ø§Ù„Ù…Ù†Ø²Ù„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø© Ø¨Ø¹Ø¯ Ø§Ù„ÙØ§ØµÙ„Ø©</li>
                    <li>Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø¹Ø¯Ø¯ ÙŠÙ†ØªÙ‡ÙŠ Ø¨Ø£ØµÙØ§Ø±ØŒ ÙÙ‡Ø°Ø§ ÙŠØ¹Ù†ÙŠ Ø£Ù†Ù‡ Ù…Ù‚Ø±Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„</li>
                </ul>
            </div>

            <!-- ØªÙ…Ø§Ø±ÙŠÙ† ØªÙØ§Ø¹Ù„ÙŠØ© -->
            <div class="decimal-interactive">
                <h3 style="color: #FF9800;"><i class="fas fa-puzzle-piece"></i> ØªÙ…Ø§Ø±ÙŠÙ† ØªÙØ§Ø¹Ù„ÙŠØ©</h3>
                <p>Ø§Ø®ØªØ¨Ø± ÙÙ‡Ù…Ùƒ ÙˆØ­Ø§ÙˆÙ„ ØªÙ‚Ø±ÙŠØ¨ Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¹Ø´Ø±ÙŠØ© Ø§Ù„ØªØ§Ù„ÙŠØ©:</p>
                <div class="exercise-grid" id="exercisesContainer">
                    <!-- Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ† Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                </div>
                <div style="text-align: center; margin-top: 30px;">
                    <button onclick="resetAllExercises()" class="math-btn math-btn-warning">
                        <i class="fas fa-redo"></i> Ø¥Ø¹Ø§Ø¯Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ†
                    </button>
                    <button onclick="generateNewExercises()" class="math-btn math-btn-primary">
                        <i class="fas fa-sync-alt"></i> ØªÙ…Ø§Ø±ÙŠÙ† Ø¬Ø¯ÙŠØ¯Ø©
                    </button>
                </div>
            </div>

            <!-- ØªØªØ¨Ø¹ Ø§Ù„ØªÙ‚Ø¯Ù… -->
            <div class="progress-tracking">
                <h3><i class="fas fa-chart-line"></i> ØªÙ‚Ø¯Ù…Ùƒ ÙÙŠ Ø§Ù„Ø¯Ø±Ø³</h3>
                <div style="display: flex; justify-content: space-between; margin: 20px 0;">
                    <span>Ø§Ù„Ù…Ø³ØªÙˆÙ‰: <strong id="levelText">Ù…Ø¨ØªØ¯Ø¦</strong></span>
                    <span>Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø©: <span id="correctCount">0</span>/8</span>
                </div>
                <div class="progress-bar-container">
                    <div class="progress-bar" id="overallProgress" style="width: 0%;"></div>
                </div>
                <div style="margin-top: 20px; display: flex; justify-content: center; gap: 15px;">
                    <div style="text-align: center;">
                        <div style="font-size: 24px; color: #4CAF50;">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div>ØµØ­ÙŠØ­Ø©: <span id="correctAnswers">0</span></div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 24px; color: #F44336;">
                            <i class="fas fa-times-circle"></i>
                        </div>
                        <div>Ø®Ø§Ø·Ø¦Ø©: <span id="wrongAnswers">0</span></div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 24px; color: #FF9800;">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div>Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª: <span id="attemptCount">0</span></div>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <div class="stars-container" id="starsContainer">
                        <div class="star">â˜…</div>
                        <div class="star">â˜…</div>
                        <div class="star">â˜…</div>
                        <div class="star">â˜…</div>
                        <div class="star">â˜…</div>
                    </div>
                </div>
            </div>

            <!-- ØªÙ‚Ø¯Ù… Ø§Ù„Ø·Ù„Ø§Ø¨ (Ù„Ù„Ù…Ø¹Ù„Ù…) -->
            <div class="students-progress">
                <h3><i class="fas fa-users"></i> ØªÙ‚Ø¯Ù… Ø§Ù„Ø·Ù„Ø§Ø¨</h3>
                <div class="student-card">
                    <div>
                        <div style="font-weight: bold;">Ø£Ø­Ù…Ø¯</div>
                        <div style="font-size: 12px; color: #666;">
                            <i class="fas fa-sync-alt"></i> 10 Ù…Ø­Ø§ÙˆÙ„Ø©
                        </div>
                    </div>
                    <div style="text-align: right;">
                        <div style="font-weight: bold; color: #4CAF50;">
                            82%
                        </div>
                        <div style="width: 100px; height: 8px; background: #ddd; border-radius: 4px; margin-top: 5px;">
                            <div style="width: 82%; height: 100%; background: #4CAF50; border-radius: 4px;"></div>
                        </div>
                    </div>
                </div>
                <div class="student-card">
                    <div>
                        <div style="font-weight: bold;">Ø³Ø§Ø±Ø©</div>
                        <div style="font-size: 12px; color: #666;">
                            <i class="fas fa-sync-alt"></i> 6 Ù…Ø­Ø§ÙˆÙ„Ø©
                        </div>
                    </div>
                    <div style="text-align: right;">
                        <div style="font-weight: bold; color: #4CAF50;">
                            95%
                        </div>
                        <div style="width: 100px; height: 8px; background: #ddd; border-radius: 4px; margin-top: 5px;">
                            <div style="width: 95%; height: 100%; background: #4CAF50; border-radius: 4px;"></div>
                        </div>
                    </div>
                </div>
                <div class="student-card">
                    <div>
                        <div style="font-weight: bold;">Ù…Ø­Ù…Ø¯</div>
                        <div style="font-size: 12px; color: #666;">
                            <i class="fas fa-sync-alt"></i> 12 Ù…Ø­Ø§ÙˆÙ„Ø©
                        </div>
                    </div>
                    <div style="text-align: right;">
                        <div style="font-weight: bold; color: #4CAF50;">
                            75%
                        </div>
                        <div style="width: 100px; height: 8px; background: #ddd; border-radius: 4px; margin-top: 5px;">
                            <div style="width: 75%; height: 100%; background: #4CAF50; border-radius: 4px;"></div>
                        </div>
                    </div>
                </div>
                <div class="student-card">
                    <div>
                        <div style="font-weight: bold;">ÙØ§Ø·Ù…Ø©</div>
                        <div style="font-size: 12px; color: #666;">
                            <i class="fas fa-sync-alt"></i> 8 Ù…Ø­Ø§ÙˆÙ„Ø©
                        </div>
                    </div>
                    <div style="text-align: right;">
                        <div style="font-weight: bold; color: #4CAF50;">
                            88%
                        </div>
                        <div style="width: 100px; height: 8px; background: #ddd; border-radius: 4px; margin-top: 5px;">
                            <div style="width: 88%; height: 100%; background: #4CAF50; border-radius: 4px;"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„ -->
            <div style="text-align: center; margin-top: 40px; padding-top: 20px; border-top: 2px solid #eee;">
                <button onclick="window.location.href='rounding.html'" class="math-btn math-btn-warning">
                    <i class="fas fa-arrow-right"></i> Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ØªÙ‚Ø±ÙŠØ¨ Ø§Ù„ØµØ­ÙŠØ­
                </button>
                <button onclick="window.location.href='../../../../math_dashboard.html'" class="math-btn math-btn-primary">
                    <i class="fas fa-home"></i> Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                </button>
                <button onclick="window.location.href='#'" class="math-btn math-btn-success">
                 Ù„Ù„Ø§Ø¹Ù„Ù‰   <i class="fas fa-arrow-left"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©
        let correctAnswers = 0;
        let wrongAnswers = 0;
        let attempts = 0;
        let completedExercises = [];
        let currentRoundPlace = 'tenth'; // 'tenth' Ø£Ùˆ 'hundredth'
        let currentExercises = [];

        // ØªÙ…Ø§Ø±ÙŠÙ† ØªÙ‚Ø±ÙŠØ¨ Ù„Ø£Ù‚Ø±Ø¨ Ø¬Ø²Ø¡ Ù…Ù† Ø¹Ø´Ø±Ø©
        const tenthExercises = [
            { number: 3.46, correct: 3.5, options: [3.4, 3.5] },
            { number: 7.82, correct: 7.8, options: [7.8, 7.9] },
            { number: 5.27, correct: 5.3, options: [5.2, 5.3] },
            { number: 9.15, correct: 9.2, options: [9.1, 9.2] },
            { number: 2.63, correct: 2.6, options: [2.6, 2.7] },
            { number: 8.99, correct: 9.0, options: [8.9, 9.0] },
            { number: 4.38, correct: 4.4, options: [4.3, 4.4] },
            { number: 6.71, correct: 6.7, options: [6.7, 6.8] }
        ];

        // ØªÙ…Ø§Ø±ÙŠÙ† ØªÙ‚Ø±ÙŠØ¨ Ù„Ø£Ù‚Ø±Ø¨ Ø¬Ø²Ø¡ Ù…Ù† Ù…Ø§Ø¦Ø©
        const hundredthExercises = [
            { number: 3.467, correct: 3.47, options: [3.46, 3.47] },
            { number: 7.825, correct: 7.83, options: [7.82, 7.83] },
            { number: 5.279, correct: 5.28, options: [5.27, 5.28] },
            { number: 9.154, correct: 9.15, options: [9.15, 9.16] },
            { number: 2.635, correct: 2.64, options: [2.63, 2.64] },
            { number: 8.998, correct: 9.00, options: [8.99, 9.00] },
            { number: 4.381, correct: 4.38, options: [4.38, 4.39] },
            { number: 6.715, correct: 6.72, options: [6.71, 6.72] }
        ];

        // ØªØ¹ÙŠÙŠÙ† Ù…ÙƒØ§Ù† Ø§Ù„ØªÙ‚Ø±ÙŠØ¨
        function setRoundingPlace(place) {
            currentRoundPlace = place;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            document.getElementById('tenthBtn').classList.toggle('active', place === 'tenth');
            document.getElementById('hundredthBtn').classList.toggle('active', place === 'hundredth');
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´Ø±Ø­
            const explanation = document.getElementById('placeExplanation');
            if (place === 'tenth') {
                explanation.innerHTML = `
                    <h4><i class="fas fa-lightbulb"></i> Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ Ù„Ø£Ù‚Ø±Ø¨ Ø¬Ø²Ø¡ Ù…Ù† Ø¹Ø´Ø±Ø©</h4>
                    <p>Ù†Ù†Ø¸Ø± Ø¥Ù„Ù‰ Ø§Ù„Ù…Ù†Ø²Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ø¨Ø¹Ø¯ Ø§Ù„ÙØ§ØµÙ„Ø© (Ø§Ù„Ø£Ø¬Ø²Ø§Ø¡ Ù…Ù† Ù…Ø§Ø¦Ø©) Ù„ØªØ­Ø¯ÙŠØ¯ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ¨:</p>
                    <div class="example-box">
                        <div class="example-number">3.4<span style="color: #FF9800;">6</span></div>
                        <div class="example-arrow">â†“</div>
                        <div class="example-number" style="color: #4CAF50;">3.5</div>
                        <div style="color: #666; font-size: 14px; margin-top: 5px;">
                            Ù„Ø£Ù† 6 â‰¥ 5ØŒ Ù†Ø²ÙŠØ¯ Ø§Ù„Ø¹Ø¯Ø¯ ÙÙŠ Ù…Ù†Ø²Ù„Ø© Ø§Ù„Ø£Ø¬Ø²Ø§Ø¡ Ù…Ù† Ø¹Ø´Ø±Ø©
                        </div>
                    </div>
                    <div class="example-box">
                        <div class="example-number">7.8<span style="color: #FF9800;">2</span></div>
                        <div class="example-arrow">â†“</div>
                        <div class="example-number" style="color: #4CAF50;">7.8</div>
                        <div style="color: #666; font-size: 14px; margin-top: 5px;">
                            Ù„Ø£Ù† 2 < 5ØŒ Ù†Ø­ØªÙØ¸ Ø¨Ù†ÙØ³ Ø§Ù„Ø¹Ø¯Ø¯ ÙÙŠ Ù…Ù†Ø²Ù„Ø© Ø§Ù„Ø£Ø¬Ø²Ø§Ø¡ Ù…Ù† Ø¹Ø´Ø±Ø©
                        </div>
                    </div>
                `;
            } else {
                explanation.innerHTML = `
                    <h4><i class="fas fa-lightbulb"></i> Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ Ù„Ø£Ù‚Ø±Ø¨ Ø¬Ø²Ø¡ Ù…Ù† Ù…Ø§Ø¦Ø©</h4>
                    <p>Ù†Ù†Ø¸Ø± Ø¥Ù„Ù‰ Ø§Ù„Ù…Ù†Ø²Ù„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø© Ø¨Ø¹Ø¯ Ø§Ù„ÙØ§ØµÙ„Ø© (Ø§Ù„Ø£Ø¬Ø²Ø§Ø¡ Ù…Ù† Ø£Ù„Ù) Ù„ØªØ­Ø¯ÙŠØ¯ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ¨:</p>
                    <div class="example-box">
                        <div class="example-number">3.46<span style="color: #FF9800;">7</span></div>
                        <div class="example-arrow">â†“</div>
                        <div class="example-number" style="color: #4CAF50;">3.47</div>
                        <div style="color: #666; font-size: 14px; margin-top: 5px;">
                            Ù„Ø£Ù† 7 â‰¥ 5ØŒ Ù†Ø²ÙŠØ¯ Ø§Ù„Ø¹Ø¯Ø¯ ÙÙŠ Ù…Ù†Ø²Ù„Ø© Ø§Ù„Ø£Ø¬Ø²Ø§Ø¡ Ù…Ù† Ù…Ø§Ø¦Ø©
                        </div>
                    </div>
                    <div class="example-box">
                        <div class="example-number">7.82<span style="color: #FF9800;">5</span></div>
                        <div class="example-arrow">â†“</div>
                        <div class="example-number" style="color: #4CAF50;">7.83</div>
                        <div style="color: #666; font-size: 14px; margin-top: 5px;">
                            Ù„Ø£Ù† 5 = 5ØŒ Ù†Ø²ÙŠØ¯ Ø§Ù„Ø¹Ø¯Ø¯ ÙÙŠ Ù…Ù†Ø²Ù„Ø© Ø§Ù„Ø£Ø¬Ø²Ø§Ø¡ Ù…Ù† Ù…Ø§Ø¦Ø©
                        </div>
                    </div>
                `;
            }
            
            // ØªÙˆÙ„ÙŠØ¯ ØªÙ…Ø§Ø±ÙŠÙ† Ø¬Ø¯ÙŠØ¯Ø©
            generateNewExercises();
        }

        // ØªÙˆÙ„ÙŠØ¯ ØªÙ…Ø§Ø±ÙŠÙ† Ø¬Ø¯ÙŠØ¯Ø©
        function generateNewExercises() {
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
            resetAllExercises();
            
            // Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©
            const sourceExercises = currentRoundPlace === 'tenth' ? tenthExercises : hundredthExercises;
            
            // Ø§Ø®ØªÙŠØ§Ø± 8 ØªÙ…Ø§Ø±ÙŠÙ† Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
            currentExercises = [...sourceExercises].sort(() => Math.random() - 0.5).slice(0, 8);
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ† ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
            const container = document.getElementById('exercisesContainer');
            container.innerHTML = '';
            
            currentExercises.forEach((exercise, index) => {
                const exerciseId = index + 1;
                const card = document.createElement('div');
                card.className = 'exercise-card';
                card.innerHTML = `
                    <h4>Ø§Ù„ØªÙ…Ø±ÙŠÙ† ${exerciseId}</h4>
                    <div class="decimal-display">${exercise.number.toFixed(3)}</div>
                    <div style="color: #666; font-size: 14px; margin: 10px 0;">
                        Ù‚Ø±Ø¨ Ù„Ø£Ù‚Ø±Ø¨ ${currentRoundPlace === 'tenth' ? 'Ø¬Ø²Ø¡ Ù…Ù† Ø¹Ø´Ø±Ø©' : 'Ø¬Ø²Ø¡ Ù…Ù† Ù…Ø§Ø¦Ø©'}
                    </div>
                    <div class="options-container">
                        ${exercise.options.map(option => 
                            `<button class="round-option" onclick="checkAnswer(this, ${option}, ${exerciseId})">${option.toFixed(2)}</button>`
                        ).join('')}
                    </div>
                    <div id="feedback${exerciseId}" class="feedback-message" style="display: none;"></div>
                `;
                container.appendChild(card);
            });
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
        function checkAnswer(button, userAnswer, exerciseId) {
            const exercise = currentExercises[exerciseId - 1];
            const exerciseCard = button.closest('.exercise-card');
            const feedbackDiv = document.getElementById(`feedback${exerciseId}`);
            const buttons = exerciseCard.querySelectorAll('.round-option');
            
            // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„ØªÙ…Ø±ÙŠÙ† Ù…ÙƒØªÙ…Ù„Ø§Ù‹ Ø¨Ø§Ù„ÙØ¹Ù„ØŒ Ù„Ø§ ØªÙØ¹Ù„ Ø´ÙŠØ¦Ø§Ù‹
            if (completedExercises.includes(exerciseId)) {
                return;
            }
            
            // Ù…Ù†Ø¹ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø£Ø®Ø±Ù‰ ÙÙŠ Ù†ÙØ³ Ø§Ù„ØªÙ…Ø±ÙŠÙ†
            buttons.forEach(btn => {
                btn.style.pointerEvents = 'none';
            });
            
            const isCorrect = Math.abs(userAnswer - exercise.correct) < 0.001; // Ù…Ù‚Ø§Ø±Ù†Ø© Ø£Ø±Ù‚Ø§Ù… Ø¹Ø´Ø±ÙŠØ©
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
            attempts++;
            if (isCorrect) {
                correctAnswers++;
                completedExercises.push(exerciseId);
            } else {
                wrongAnswers++;
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
            if (isCorrect) {
                button.classList.add('correct-answer');
                feedbackDiv.innerHTML = `
                    <div class="feedback-correct">
                        <i class="fas fa-check-circle"></i> Ø£Ø­Ø³Ù†Øª! ${exercise.number.toFixed(3)} â†’ ${exercise.correct.toFixed(2)}
                    </div>
                `;
            } else {
                button.classList.add('wrong-answer');
                // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©
                buttons.forEach(btn => {
                    if (Math.abs(parseFloat(btn.textContent) - exercise.correct) < 0.001) {
                        btn.classList.add('correct-answer');
                    }
                });
                feedbackDiv.innerHTML = `
                    <div class="feedback-wrong">
                        <i class="fas fa-times-circle"></i> Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰
                        <div style="font-size: 14px; margin-top: 5px;">
                            ${exercise.number.toFixed(3)} â†’ ${exercise.correct.toFixed(2)}
                        </div>
                    </div>
                `;
            }
            feedbackDiv.style.display = 'block';
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ‚Ø¯Ù…
            updateProgress();
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥ÙƒÙ…Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ†
            if (completedExercises.length === 8) {
                setTimeout(showFinalResults, 500);
            }
        }

        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ†
        function resetAllExercises() {
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª
            correctAnswers = 0;
            wrongAnswers = 0;
            attempts = 0;
            completedExercises = [];
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            const allButtons = document.querySelectorAll('.round-option');
            const allFeedback = document.querySelectorAll('[id^="feedback"]');
            
            allButtons.forEach(button => {
                button.classList.remove('correct-answer', 'wrong-answer');
                button.style.pointerEvents = 'auto';
            });
            
            allFeedback.forEach(feedback => {
                feedback.style.display = 'none';
                feedback.innerHTML = '';
            });
            
            // Ø¥Ø®ÙØ§Ø¡ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…ÙˆØ¬ÙˆØ¯Ø©
            const finalResults = document.querySelector('.final-results');
            if (finalResults) {
                finalResults.remove();
            }
            
            updateProgress();
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©
        function showFinalResults() {
            const percentage = Math.round((correctAnswers / 8) * 100);
            let message = '';
            let emoji = '';
            
            if (percentage === 100) {
                message = 'ğŸŠ Ù…Ø¨Ø±ÙˆÙƒ! Ø¥ØªÙ‚Ø§Ù† ØªØ§Ù… Ù„Ù…Ù‡Ø§Ø±Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ Ø§Ù„Ø¹Ø´Ø±ÙŠ!';
                emoji = 'ğŸ†';
                updateLevel('Ø®Ø¨ÙŠØ±');
            } else if (percentage >= 75) {
                message = 'ğŸ‘ Ø¹Ù…Ù„ Ø±Ø§Ø¦Ø¹! Ø£Ø¯Ø§Ø¡ Ù…ØªÙ…ÙŠØ² ÙÙŠ Ø§Ù„ØªÙ‚Ø±ÙŠØ¨';
                emoji = 'ğŸ’ª';
                updateLevel('Ù…ØªÙ‚Ø¯Ù…');
            } else if (percentage >= 50) {
                message = 'ğŸ‘Œ Ø¬ÙŠØ¯ Ø¬Ø¯Ø§Ù‹ØŒ Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø©';
                emoji = 'âœ…';
                updateLevel('Ù…ØªÙˆØ³Ø·');
            } else {
                message = 'ğŸ“š Ø±Ø§Ø¬Ø¹ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ ÙˆØ­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰';
                emoji = 'ğŸ“–';
                updateLevel('Ù…Ø¨ØªØ¯Ø¦');
            }
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ø§Ù„Ù†ØªØ§Ø¦Ø¬
            const resultsDiv = document.createElement('div');
            resultsDiv.className = 'final-results';
            resultsDiv.innerHTML = `
                <div style="margin-top: 30px; padding: 25px; background: linear-gradient(135deg, #6A89CC, #4A69BD); 
                color: white; border-radius: 15px; text-align: center;">
                    <h3><i class="fas fa-trophy"></i> Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ†</h3>
                    <div style="font-size: 48px; margin: 15px 0;">${emoji}</div>
                    <div style="font-size: 24px; margin: 10px 0;">
                        ${correctAnswers} / 8 Ø¥Ø¬Ø§Ø¨Ø§Øª ØµØ­ÙŠØ­Ø©
                    </div>
                    <div style="font-size: 20px; margin-bottom: 15px;">
                        Ø§Ù„Ù†Ø³Ø¨Ø©: ${percentage}%
                    </div>
                    <div style="font-size: 18px; background: rgba(255,255,255,0.2); padding: 10px; border-radius: 10px;">
                        ${message}
                    </div>
                    <div style="margin-top: 20px;">
                        <button onclick="resetAllExercises()" class="math-btn" style="background: white; color: #4A69BD;">
                            <i class="fas fa-redo"></i> Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰
                        </button>
                        <button onclick="generateNewExercises()" class="math-btn" style="background: #4CAF50; color: white; margin-right: 10px;">
                            <i class="fas fa-sync-alt"></i> ØªÙ…Ø§Ø±ÙŠÙ† Ø¬Ø¯ÙŠØ¯Ø©
                        </button>
                    </div>
                </div>
            `;
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø¨Ø¹Ø¯ Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ†
            const exerciseSection = document.querySelector('.decimal-interactive');
            const existingResults = exerciseSection.querySelector('.final-results');
            if (existingResults) {
                existingResults.remove();
            }
            exerciseSection.appendChild(resultsDiv);
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªÙˆÙ‰
        function updateLevel(level) {
            document.getElementById('levelText').textContent = level;
            document.getElementById('levelText').style.color = 
                level === 'Ø®Ø¨ÙŠØ±' ? '#FFD700' : 
                level === 'Ù…ØªÙ‚Ø¯Ù…' ? '#4CAF50' : 
                level === 'Ù…ØªÙˆØ³Ø·' ? '#2196F3' : '#FF9800';
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ‚Ø¯Ù…
        function updateProgress() {
            document.getElementById('correctCount').textContent = correctAnswers;
            document.getElementById('correctAnswers').textContent = correctAnswers;
            document.getElementById('wrongAnswers').textContent = wrongAnswers;
            document.getElementById('attemptCount').textContent = attempts;
            
            const progress = (correctAnswers / 8) * 100;
            document.getElementById('overallProgress').style.width = `${progress}%`;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø¬ÙˆÙ… (Ù†Ø¬Ù…Ø© Ù„ÙƒÙ„ Ø¥Ø¬Ø§Ø¨ØªÙŠÙ† ØµØ­ÙŠØ­ØªÙŠÙ†)
            updateStars(Math.floor(correctAnswers / 2));
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø¬ÙˆÙ…
        function updateStars(count) {
            const stars = document.querySelectorAll('.star');
            stars.forEach((star, index) => {
                if (index < count) {
                    star.classList.remove('empty');
                    star.innerHTML = 'ğŸ’ª';
                } else {
                    star.classList.add('empty');
                    star.innerHTML = 'â˜…';
                }
            });
        }

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', function() {
            // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„Ø£ÙˆÙ„ÙŠØ©
            generateNewExercises();
            updateProgress();
        });
    </script>
</body>
</html>